my={},function(t){t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg";var pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var i='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var o=solvePicUrl[a];else if(null!=pic_list[n])o=pic_list[n];if(!isSupportWebp())o=o.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${i}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${o}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${i}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){if(db("加载名言列表成功"),e)a=e;else if(""!=qs("id"))var a=qs("id");else if(""!=location.hash&&"#search"!=location.hash)var a=location.hash.replace("#","");else a=rdNum(0,mingyan.length-1);var n=mingyan[a].split("：")[0];if(db(n),2==mingyan[a].split("：").length){var i=mingyan[a].split("：")[1];db(i)}else if(3==mingyan[a].split("：").length){i=mingyan[a].split("：")[1]+"："+mingyan[a].split("：")[2];db(i)}db("已选取第"+a+"条名言："+i),_hmt.push(["_trackEvent","名言","查看","自动",n+"："+i]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+a+'" class="label label-rounded label-warning">#'+a+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(n+"："+i));var o=t.text(n+"："+i);$("span#name").text(n),$("span#verb").html(o),$("#main").fadeIn();var c="名言 | "+i;document.title=c;var s=n+o+"："+i;$('meta[name="description"]').attr("content",s),$('meta[property="og:description"]').attr("content",s),$('meta[name="og:description"]').attr("content",s),$('meta[property="og:title"]').attr("content",c),$('meta[name="og:title"]').attr("content",c),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){history.pushState({},"名言 | 搜索","/search"),$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___),history.pushState({},"名言 | 更多","/")},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___),history.pushState({},"名言 | 关于","/about")},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length];window.count=n;var o="";o+=n.join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(o)),$("#md").fadeIn()},t.search=function(){if($("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,i=n.length;swal({title:`第${i+1}个人！！`,text:`恭喜你成为2021年第${i+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},location.pathname){case"/about":my.about();break;case"/search":my.all(),qs("q")&&($("#searchbar").val(decodeURI(qs("q"))),$("#searchbar").focus());break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
/*! ERSS Mingyan $ (c) 2020 Xhemj $ github.com/icerss/mingyan */  
my={},function(t){t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg";var pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var i='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var o=solvePicUrl[a];else if(null!=pic_list[n])o=pic_list[n];if(!isSupportWebp())o=o.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${i}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${o}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${i}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){if(db("加载名言列表成功"),e)a=e;else if(""!=qs("id"))var a=qs("id");else if(""!=location.hash&&"#search"!=location.hash)var a=location.hash.replace("#","");else a=rdNum(0,mingyan.length-1);var n=mingyan[a].split("：")[0];if(db(n),2==mingyan[a].split("：").length){var i=mingyan[a].split("：")[1];db(i)}else if(3==mingyan[a].split("：").length){i=mingyan[a].split("：")[1]+"："+mingyan[a].split("：")[2];db(i)}db("已选取第"+a+"条名言："+i),_hmt.push(["_trackEvent","名言","查看","自动",n+"："+i]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+a+'" class="label label-rounded label-warning">#'+a+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(n+"："+i));var o=t.text(n+"："+i);$("span#name").text(n),$("span#verb").html(o),$("#main").fadeIn();var c="名言 | "+i;document.title=c;var s=n+o+"："+i;$('meta[name="description"]').attr("content",s),$('meta[property="og:description"]').attr("content",s),$('meta[name="og:description"]').attr("content",s),$('meta[property="og:title"]').attr("content",c),$('meta[name="og:title"]').attr("content",c),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){history.pushState({},"名言 | 搜索","/search"),$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___),history.pushState({},"名言 | 更多","/")},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___),history.pushState({},"名言 | 关于","/about")},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length];window.count=n;var o="";o+=n.join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(o)),$("#md").fadeIn()},t.search=function(){if($("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,i=n.length;swal({title:`第${i+1}个人！！`,text:`恭喜你成为2021年第${i+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},location.pathname){case"/about":my.about();break;case"/search":my.all(),qs("q")&&($("#searchbar").val(decodeURI(qs("q"))),$("#searchbar").focus());break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
/*! ERSS Mingyan $ (c) 2020 Xhemj $ github.com/icerss/mingyan */  
my={},function(t){const pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg",t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var o='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var i=solvePicUrl[a];else if(null!=pic_list[n])i=pic_list[n];if(!isSupportWebp())i=i.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${o}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${i}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${o}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){db("加载名言列表成功");if(e)a=e;else if(""!=qs("id"))var a=qs("id");else if(""!=location.hash&&"#/about,#/more,#/search".indexOf(location.hash)>-1)var a=location.hash.replace("#","");else a=rdNum(0,mingyan.length-1);var n=mingyan[a].split("：")[0];if(db(n),2==mingyan[a].split("：").length){var o=mingyan[a].split("：")[1];db(o)}else if(3==mingyan[a].split("：").length){o=mingyan[a].split("：")[1]+"："+mingyan[a].split("：")[2];db(o)}db("已选取第"+a+"条名言："+o),_hmt.push(["_trackEvent","名言","查看","自动",n+"："+o]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+a+'" class="label label-rounded label-warning">#'+a+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(n+"："+o));var i=t.text(n+"："+o);$("span#name").text(n),$("span#verb").html(i),$("#main").fadeIn();var c="名言 | "+o;document.title=c;var s=n+i+"："+o;$('meta[name="description"]').attr("content",s),$('meta[property="og:description"]').attr("content",s),$('meta[name="og:description"]').attr("content",s),$('meta[property="og:title"]').attr("content",c),$('meta[name="og:title"]').attr("content",c),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){history.pushState({},"名言 | 搜索","/search"),$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___),history.pushState({},"名言 | 更多","/")},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___),history.pushState({},"名言 | 关于","/about")},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length];window.count=n;var o="";o+=n.join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(o)),$("#md").fadeIn()},t.search=function(){if($("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,o=n.length;swal({title:`第${o+1}个人！！`,text:`恭喜你成为2021年第${o+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},window.addEventListener("hashchange",(function(){switch(location.hash){case"#/about":my.about();break;case"#/search":my.all();break;case"#/more":my.more()}})),location.pathname){case"/about":location.hash="#/about";break;case"/search":location.hash="#/search";break;case"/more":location.hash="#/more";break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
/*! ERSS Mingyan $ (c) 2020 Xhemj $ github.com/icerss/mingyan */  
my={},function(t){const pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg",t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var o='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var i=solvePicUrl[a];else if(null!=pic_list[n])i=pic_list[n];if(!isSupportWebp())i=i.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${o}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${i}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${o}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){db("加载名言列表成功");if(e)a=e;else if(""!=qs("id"))var a=qs("id");else if(""!=location.hash&&1=={"#/search":!0,"#/more":!0,"#/about":!0}[location.hash])var a=location.hash.replace("#","");else a=rdNum(0,mingyan.length-1);var n=mingyan[a].split("：")[0];if(db(n),2==mingyan[a].split("：").length){var o=mingyan[a].split("：")[1];db(o)}else if(3==mingyan[a].split("：").length){o=mingyan[a].split("：")[1]+"："+mingyan[a].split("：")[2];db(o)}db("已选取第"+a+"条名言："+o),_hmt.push(["_trackEvent","名言","查看","自动",n+"："+o]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+a+'" class="label label-rounded label-warning">#'+a+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(n+"："+o));var i=t.text(n+"："+o);$("span#name").text(n),$("span#verb").html(i),$("#main").fadeIn();var c="名言 | "+o;document.title=c;var s=n+i+"："+o;$('meta[name="description"]').attr("content",s),$('meta[property="og:description"]').attr("content",s),$('meta[name="og:description"]').attr("content",s),$('meta[property="og:title"]').attr("content",c),$('meta[name="og:title"]').attr("content",c),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){history.pushState({},"名言 | 搜索","/search"),$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___),history.pushState({},"名言 | 更多","/")},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___),history.pushState({},"名言 | 关于","/about")},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length];window.count=n;var o="";o+=n.join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(o)),$("#md").fadeIn()},t.search=function(){if($("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,o=n.length;swal({title:`第${o+1}个人！！`,text:`恭喜你成为2021年第${o+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},window.addEventListener("hashchange",(function(){switch(location.hash){case"#/about":my.about();break;case"#/search":my.all();break;case"#/more":my.more()}})),location.pathname){case"/about":location.hash="#/about";break;case"/search":location.hash="#/search";break;case"/more":location.hash="#/more";break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
/*! ERSS Mingyan $ (c) 2020 Xhemj $ github.com/icerss/mingyan */  
my={},function(t){const pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg",t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var o='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var i=solvePicUrl[a];else if(null!=pic_list[n])i=pic_list[n];if(!isSupportWebp())i=i.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${o}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${i}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${o}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){db("加载名言列表成功");if(e)a=e;else if(""!=qs("id"))var a=qs("id");else if(""!=location.hash&&1=={"#/search":!0,"#/more":!0,"#/about":!0}[location.hash])var a=location.hash.replace("#","");else a=rdNum(0,mingyan.length-1);var n=mingyan[a].split("：")[0];if(db(n),2==mingyan[a].split("：").length){var o=mingyan[a].split("：")[1];db(o)}else if(3==mingyan[a].split("：").length){o=mingyan[a].split("：")[1]+"："+mingyan[a].split("：")[2];db(o)}db("已选取第"+a+"条名言："+o),_hmt.push(["_trackEvent","名言","查看","自动",n+"："+o]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+a+'" class="label label-rounded label-warning">#'+a+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(n+"："+o));var i=t.text(n+"："+o);$("span#name").text(n),$("span#verb").html(i),$("#main").fadeIn();var c="名言 | "+o;document.title=c;var s=n+i+"："+o;$('meta[name="description"]').attr("content",s),$('meta[property="og:description"]').attr("content",s),$('meta[name="og:description"]').attr("content",s),$('meta[property="og:title"]').attr("content",c),$('meta[name="og:title"]').attr("content",c),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___)},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___)},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length];window.count=n;var o="";o+=n.join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(o)),$("#md").fadeIn()},t.search=function(){if($("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,o=n.length;swal({title:`第${o+1}个人！！`,text:`恭喜你成为2021年第${o+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},window.addEventListener("hashchange",(function(){switch(location.hash){case"#/about":my.about();break;case"#/search":my.all();break;case"#/more":my.more()}})),location.pathname){case"/about":location.hash="#/about";break;case"/search":location.hash="#/search";break;case"/more":location.hash="#/more";break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
/*! ERSS Mingyan $ (c) 2020 Xhemj $ github.com/icerss/mingyan */  
my={},function(t){const pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg",t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var o='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var i=solvePicUrl[a];else if(null!=pic_list[n])i=pic_list[n];if(!isSupportWebp())i=i.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${o}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${i}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${o}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){db("加载名言列表成功");if(e)a=e;else if(""!=qs("id"))var a=qs("id");else if(""!=location.hash&&1!={"#/search":!0,"#/more":!0,"#/about":!0}[location.hash])var a=location.hash.replace("#","");else a=rdNum(0,mingyan.length-1);var n=mingyan[a].split("：")[0];if(db(n),2==mingyan[a].split("：").length){var o=mingyan[a].split("：")[1];db(o)}else if(3==mingyan[a].split("：").length){o=mingyan[a].split("：")[1]+"："+mingyan[a].split("：")[2];db(o)}db("已选取第"+a+"条名言："+o),_hmt.push(["_trackEvent","名言","查看","自动",n+"："+o]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+a+'" class="label label-rounded label-warning">#'+a+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(n+"："+o));var i=t.text(n+"："+o);$("span#name").text(n),$("span#verb").html(i),$("#main").fadeIn();var c="名言 | "+o;document.title=c;var s=n+i+"："+o;$('meta[name="description"]').attr("content",s),$('meta[property="og:description"]').attr("content",s),$('meta[name="og:description"]').attr("content",s),$('meta[property="og:title"]').attr("content",c),$('meta[name="og:title"]').attr("content",c),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___)},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___)},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length];window.count=n;var o="";o+=n.join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(o)),$("#md").fadeIn()},t.search=function(){if($("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,o=n.length;swal({title:`第${o+1}个人！！`,text:`恭喜你成为2021年第${o+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},window.addEventListener("hashchange",(function(){switch(location.hash){case"#/about":location.pathname="/",my.about();break;case"#/search":location.pathname="/",my.all();break;case"#/more":location.pathname="/",my.more()}})),location.pathname){case"/about":location.hash="#/about";break;case"/search":location.hash="#/search";break;case"/more":location.hash="#/more";break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
/*! ERSS Mingyan $ (c) 2020 Xhemj $ github.com/icerss/mingyan */  
my={},function(t){const pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg",t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var o='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var i=solvePicUrl[a];else if(null!=pic_list[n])i=pic_list[n];if(!isSupportWebp())i=i.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${o}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${i}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${o}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){db("加载名言列表成功");if(e)a=e;else if(""!=qs("id"))var a=qs("id");else if(""!=location.hash&&1!={"#/search":!0,"#/more":!0,"#/about":!0}[location.hash])var a=location.hash.replace("#","");else a=rdNum(0,mingyan.length-1);var n=mingyan[a].split("：")[0];if(db(n),2==mingyan[a].split("：").length){var o=mingyan[a].split("：")[1];db(o)}else if(3==mingyan[a].split("：").length){o=mingyan[a].split("：")[1]+"："+mingyan[a].split("：")[2];db(o)}db("已选取第"+a+"条名言："+o),_hmt.push(["_trackEvent","名言","查看","自动",n+"："+o]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+a+'" class="label label-rounded label-warning">#'+a+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(n+"："+o));var i=t.text(n+"："+o);$("span#name").text(n),$("span#verb").html(i),$("#main").fadeIn();var c="名言 | "+o;document.title=c;var s=n+i+"："+o;$('meta[name="description"]').attr("content",s),$('meta[property="og:description"]').attr("content",s),$('meta[name="og:description"]').attr("content",s),$('meta[property="og:title"]').attr("content",c),$('meta[name="og:title"]').attr("content",c),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___)},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___)},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length];window.count=n;var o="";o+=n.join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(o)),$("#md").fadeIn()},t.search=function(){if($("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}function hashchange(){switch(location.hash){case"#/about":location.pathname="/",my.about();break;case"#/search":location.pathname="/",my.all();break;case"#/more":location.pathname="/",my.more()}}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,o=n.length;swal({title:`第${o+1}个人！！`,text:`恭喜你成为2021年第${o+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},window.addEventListener("hashchange",hashchange),hashchange(),location.pathname){case"/about":location.hash="#/about";break;case"/search":location.hash="#/search";break;case"/more":location.hash="#/more";break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
/*! ERSS Mingyan $ (c) 2020 Xhemj $ github.com/icerss/mingyan */  
my={},function(t){const pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg",t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var o='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var i=solvePicUrl[a];else if(null!=pic_list[n])i=pic_list[n];if(!isSupportWebp())i=i.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${o}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${i}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${o}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){db("加载名言列表成功");if(e)a=e;else if(""!=qs("id"))var a=qs("id");else if(""!=location.hash&&1!={"#/search":!0,"#/more":!0,"#/about":!0}[location.hash])var a=location.hash.replace("#","");else a=rdNum(0,mingyan.length-1);var n=mingyan[a].split("：")[0];if(db(n),2==mingyan[a].split("：").length){var o=mingyan[a].split("：")[1];db(o)}else if(3==mingyan[a].split("：").length){o=mingyan[a].split("：")[1]+"："+mingyan[a].split("：")[2];db(o)}db("已选取第"+a+"条名言："+o),_hmt.push(["_trackEvent","名言","查看","自动",n+"："+o]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+a+'" class="label label-rounded label-warning">#'+a+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(n+"："+o));var i=t.text(n+"："+o);$("span#name").text(n),$("span#verb").html(i),$("#main").fadeIn();var c="名言 | "+o;document.title=c;var s=n+i+"："+o;$('meta[name="description"]').attr("content",s),$('meta[property="og:description"]').attr("content",s),$('meta[name="og:description"]').attr("content",s),$('meta[property="og:title"]').attr("content",c),$('meta[name="og:title"]').attr("content",c),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___)},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___)},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length];window.count=n;var o="";o+=n.join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(o)),$("#md").fadeIn()},t.search=function(){if($("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}function hashchange(){switch(location.hash){case"#/about":location.pathname="/",my.hide_showall(),my.about();break;case"#/search":location.pathname="/",my.hide_showall(),my.all();break;case"#/more":location.pathname="/",my.hide_showall(),my.more()}}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,o=n.length;swal({title:`第${o+1}个人！！`,text:`恭喜你成为2021年第${o+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},window.addEventListener("hashchange",hashchange),hashchange(),location.pathname){case"/about":location.hash="#/about";break;case"/search":location.hash="#/search";break;case"/more":location.hash="#/more";break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
/*! ERSS Mingyan $ (c) 2020 Xhemj $ github.com/icerss/mingyan */  
my={},function(t){const pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg",t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var o='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var i=solvePicUrl[a];else if(null!=pic_list[n])i=pic_list[n];if(!isSupportWebp())i=i.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${o}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${i}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${o}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){db("加载名言列表成功");var a={"#/search":!0,"#/more":!0,"#/about":!0};if(e)n=e;else if(""!=qs("id"))var n=qs("id");else if(""!=location.hash&&1!=a[location.hash])var n=location.hash.replace("#","");else n=rdNum(0,mingyan.length-1);if(1==a[location.hash])return;var o=mingyan[n].split("：")[0];if(db(o),2==mingyan[n].split("：").length){var i=mingyan[n].split("：")[1];db(i)}else if(3==mingyan[n].split("：").length){i=mingyan[n].split("：")[1]+"："+mingyan[n].split("：")[2];db(i)}db("已选取第"+n+"条名言："+i),_hmt.push(["_trackEvent","名言","查看","自动",o+"："+i]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+n+'" class="label label-rounded label-warning">#'+n+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(o+"："+i));var c=t.text(o+"："+i);$("span#name").text(o),$("span#verb").html(c),$("#main").fadeIn();var s="名言 | "+i;document.title=s;var l=o+c+"："+i;$('meta[name="description"]').attr("content",l),$('meta[property="og:description"]').attr("content",l),$('meta[name="og:description"]').attr("content",l),$('meta[property="og:title"]').attr("content",s),$('meta[name="og:title"]').attr("content",s),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___)},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___)},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length];window.count=n;var o="";o+=n.join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(o)),$("#md").fadeIn()},t.search=function(){if($("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}function hashchange(){switch(location.hash){case"#/about":location.pathname="/",my.hide_showall(),my.about();break;case"#/search":location.pathname="/",my.hide_showall(),my.all();break;case"#/more":location.pathname="/",my.hide_showall(),my.more()}}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,o=n.length;swal({title:`第${o+1}个人！！`,text:`恭喜你成为2021年第${o+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},window.addEventListener("hashchange",hashchange),hashchange(),location.pathname){case"/about":location.hash="#/about";break;case"/search":location.hash="#/search";break;case"/more":location.hash="#/more";break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
/*! ERSS Mingyan $ (c) 2020 Xhemj $ github.com/icerss/mingyan */  
my={},function(t){const pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg",t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var o='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var i=solvePicUrl[a];else if(null!=pic_list[n])i=pic_list[n];if(!isSupportWebp())i=i.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${o}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${i}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${o}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){db("加载名言列表成功");var a={"#/search":!0,"#/more":!0,"#/about":!0};if(e)n=e;else if(""!=qs("id"))var n=qs("id");else if(""!=location.hash&&1!=a[location.hash])var n=location.hash.replace("#","");else n=rdNum(0,mingyan.length-1);if(1==a[location.hash])return;var o=mingyan[n].split("：")[0];if(db(o),2==mingyan[n].split("：").length){var i=mingyan[n].split("：")[1];db(i)}else if(3==mingyan[n].split("：").length){i=mingyan[n].split("：")[1]+"："+mingyan[n].split("：")[2];db(i)}db("已选取第"+n+"条名言："+i),_hmt.push(["_trackEvent","名言","查看","自动",o+"："+i]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+n+'" class="label label-rounded label-warning">#'+n+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(o+"："+i));var c=t.text(o+"："+i);$("span#name").text(o),$("span#verb").html(c),$("#main").fadeIn();var s="名言 | "+i;document.title=s;var l=o+c+"："+i;$('meta[name="description"]').attr("content",l),$('meta[property="og:description"]').attr("content",l),$('meta[name="og:description"]').attr("content",l),$('meta[property="og:title"]').attr("content",s),$('meta[name="og:title"]').attr("content",s),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___),location.hash="#/more"},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___),location.hash="#/about"},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length];window.count=n;var o="";o+=n.join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(o)),$("#md").fadeIn()},t.search=function(){if(location.hash="#/search",$("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}function hashchange(){switch(location.hash){case"#/about":location.pathname="/",my.hide_showall(),my.about();break;case"#/search":location.pathname="/",my.hide_showall(),my.all();break;case"#/more":location.pathname="/",my.hide_showall(),my.more()}}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,o=n.length;swal({title:`第${o+1}个人！！`,text:`恭喜你成为2021年第${o+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},window.addEventListener("hashchange",hashchange),hashchange(),location.pathname){case"/about":location.hash="#/about";break;case"/search":location.hash="#/search";break;case"/more":location.hash="#/more";break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
/*! ERSS Mingyan $ (c) 2020 Xhemj $ github.com/icerss/mingyan */  
my={},function(t){const pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg",t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var o='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var i=solvePicUrl[a];else if(null!=pic_list[n])i=pic_list[n];if(!isSupportWebp())i=i.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${o}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${i}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${o}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){db("加载名言列表成功");var a={"#/search":!0,"#/more":!0,"#/about":!0};if(e)n=e;else if(""!=qs("id"))var n=qs("id");else if(""!=location.hash&&1!=a[location.hash])var n=location.hash.replace("#","");else n=rdNum(0,mingyan.length-1);if(1==a[location.hash])return;var o=mingyan[n].split("：")[0];if(db(o),2==mingyan[n].split("：").length){var i=mingyan[n].split("：")[1];db(i)}else if(3==mingyan[n].split("：").length){i=mingyan[n].split("：")[1]+"："+mingyan[n].split("：")[2];db(i)}db("已选取第"+n+"条名言："+i),_hmt.push(["_trackEvent","名言","查看","自动",o+"："+i]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+n+'" class="label label-rounded label-warning">#'+n+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(o+"："+i));var c=t.text(o+"："+i);$("span#name").text(o),$("span#verb").html(c),$("#main").fadeIn();var s="名言 | "+i;document.title=s;var l=o+c+"："+i;$('meta[name="description"]').attr("content",l),$('meta[property="og:description"]').attr("content",l),$('meta[name="og:description"]').attr("content",l),$('meta[property="og:title"]').attr("content",s),$('meta[name="og:title"]').attr("content",s),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){location.hash="#/search",$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___),location.hash="#/more"},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___),location.hash="#/about"},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length];window.count=n;var o="";o+=n.join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(o)),$("#md").fadeIn()},t.search=function(){if($("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}function hashchange(){switch(location.hash){case"#/about":location.pathname="/",my.hide_showall(),my.about();break;case"#/search":location.pathname="/",my.hide_showall(),my.all();break;case"#/more":location.pathname="/",my.hide_showall(),my.more()}}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,o=n.length;swal({title:`第${o+1}个人！！`,text:`恭喜你成为2021年第${o+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},window.addEventListener("hashchange",hashchange),hashchange(),location.pathname){case"/about":location.hash="#/about";break;case"/search":location.hash="#/search";break;case"/more":location.hash="#/more";break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
/*! ERSS Mingyan $ (c) 2020 Xhemj $ github.com/icerss/mingyan */  
my={},function(t){const pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg",t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var o='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var i=solvePicUrl[a];else if(null!=pic_list[n])i=pic_list[n];if(!isSupportWebp())i=i.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${o}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${i}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${o}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){db("加载名言列表成功");var a={"#/search":!0,"#/more":!0,"#/about":!0};if(e)n=e;else if(""!=qs("id"))var n=qs("id");else if(""!=location.hash&&1!=a[location.hash])var n=location.hash.replace("#","");else n=rdNum(0,mingyan.length-1);if(1==a[location.hash])return;var o=mingyan[n].split("：")[0];if(db(o),2==mingyan[n].split("：").length){var i=mingyan[n].split("：")[1];db(i)}else if(3==mingyan[n].split("：").length){i=mingyan[n].split("：")[1]+"："+mingyan[n].split("：")[2];db(i)}db("已选取第"+n+"条名言："+i),_hmt.push(["_trackEvent","名言","查看","自动",o+"："+i]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+n+'" class="label label-rounded label-warning">#'+n+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(o+"："+i));var c=t.text(o+"："+i);$("span#name").text(o),$("span#verb").html(c),$("#main").fadeIn();var s="名言 | "+i;document.title=s;var l=o+c+"："+i;$('meta[name="description"]').attr("content",l),$('meta[property="og:description"]').attr("content",l),$('meta[name="og:description"]').attr("content",l),$('meta[property="og:title"]').attr("content",s),$('meta[name="og:title"]').attr("content",s),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___)},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___)},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length];window.count=n;var o="";o+=n.join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(o)),$("#md").fadeIn()},t.search=function(){if($("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}function hashchange(){switch(location.hash){case"#/about":location.pathname="/",my.hide_showall(),my.about();break;case"#/search":location.pathname="/",my.hide_showall(),my.all();break;case"#/more":location.pathname="/",my.hide_showall(),my.more()}}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,o=n.length;swal({title:`第${o+1}个人！！`,text:`恭喜你成为2021年第${o+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},window.addEventListener("hashchange",hashchange),hashchange(),location.pathname){case"/about":location.hash="#/about";break;case"/search":location.hash="#/search";break;case"/more":location.hash="#/more";break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
/*! ERSS Mingyan $ (c) 2020 Xhemj $ github.com/icerss/mingyan */  
my={},function(t){const pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg",t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var o='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var i=solvePicUrl[a];else if(null!=pic_list[n])i=pic_list[n];if(!isSupportWebp())i=i.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${o}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${i}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${o}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){db("加载名言列表成功");var a={"#/search":!0,"#/more":!0,"#/about":!0};if(e)n=e;else if(""!=qs("id"))var n=qs("id");else if(""!=location.hash&&1!=a[location.hash])var n=location.hash.replace("#","");else n=rdNum(0,mingyan.length-1);if(1==a[location.hash])return;var o=mingyan[n].split("：")[0];if(db(o),2==mingyan[n].split("：").length){var i=mingyan[n].split("：")[1];db(i)}else if(3==mingyan[n].split("：").length){i=mingyan[n].split("：")[1]+"："+mingyan[n].split("：")[2];db(i)}db("已选取第"+n+"条名言："+i),_hmt.push(["_trackEvent","名言","查看","自动",o+"："+i]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+n+'" class="label label-rounded label-warning">#'+n+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(o+"："+i));var c=t.text(o+"："+i);$("span#name").text(o),$("span#verb").html(c),$("#main").fadeIn();var s="名言 | "+i;document.title=s;var l=o+c+"："+i;$('meta[name="description"]').attr("content",l),$('meta[property="og:description"]').attr("content",l),$('meta[name="og:description"]').attr("content",l),$('meta[property="og:title"]').attr("content",s),$('meta[name="og:title"]').attr("content",s),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___)},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___)},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n="";n+=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length].join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(n)),$("#md").fadeIn()},t.search=function(){if($("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}function hashchange(){switch(location.hash){case"#/about":location.pathname="/",my.hide_showall(),my.about();break;case"#/search":location.pathname="/",my.hide_showall(),my.all();break;case"#/more":location.pathname="/",my.hide_showall(),my.more()}}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,o=n.length;swal({title:`第${o+1}个人！！`,text:`恭喜你成为2021年第${o+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},window.addEventListener("hashchange",hashchange),hashchange(),location.pathname){case"/about":location.hash="#/about";break;case"/search":location.hash="#/search";break;case"/more":location.hash="#/more";break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
/*! ERSS Mingyan $ (c) 2020 Xhemj $ github.com/icerss/mingyan */  
my={},function(t){const pic_list={"虾扯蛋":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/10/16/TQ3i5EH2wD9KF6d.jpg/webp","真让人头大":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QiXVSahT3kAJf6B.jpg/webp","对称轴平行":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/qv1RkDBbt6CyEJf.jpg/webp","零食杜绝":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/SWx85EvdXBOqloJ.jpg/webp","耳散伞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/jpH7LQiaqTnXyCf.jpg/webp","歪瓜裂枣":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/6k7czyYqmfvlWPn.jpg/webp","悲伤":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/hHv8U3EGt4P12IX.jpg/webp","肾虚":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/wBHo8kezKDnEcAP.jpg/webp","眉目清秀":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/KQsc8YDEHf1vi2x.jpg/webp","困死了":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/lmcDK2MCrO8nAtw.jpg/webp","我在打麻将":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/QwzvoYL1daXq8in.jpg/webp","松鼠":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/C1Zq9nXfaTW2hDe.jpg/webp","来看王雷吧":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/Uxg3OpL2eBArP7s.jpg/webp","跑面":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/UAV5BHjlwQxcznN.jpg/webp","绿帽子":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/05/TNgspLGvQWVKxCw.jpg/webp","搞那么夸张干什么啊？":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/06/5yaWEP1KdwVcCIu.png/webp","垃圾真好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/19/kDxAfJ8dg7IlhaO.png/webp","我先吃柠檬，你先别吃，好吃":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/UPHZQG8YszhRgpb.png/webp","卷星人冲击波！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/TuGmYhQX9LorMZc.jpg/webp","赌金":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/aRZ8pVl7WgmOJUv.jpg/webp","老王乌贼":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/2j1cZKYHwFQlDdC.jpg/webp","Boom！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/9p64wZyFHB8DblA.jpg/webp","功夫面条":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/XkAf3Oq9PEyQmpI.jpg/webp","水果战车":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/20/JBilT9zCbkI1LKN.jpg/webp","替身：面条达人！":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/12/22/T8C2Hjm74Ookfp6.jpg/webp"},solvePicUrl={"数学老王":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/KPVwxYQXM2fLODN.jpg/webp","数学潘哥":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/iTkIWzwKaL92otl.jpg/webp","语文老朱":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/xvUdlJW8XG1zbeZ.jpg/webp","英语老俞":"https://s-sh-1943-pic1.oss.dogecdn.com/2020/11/01/lURnTwHouGbM8B7.jpg/webp"};t.version="2021/01/03",t.config={___DEBUG__:___DEBUG__=!1,___date_version___:___date_version___=202101021322};var _hmt=_hmt||[];function gtag(){dataLayer.push(arguments)}!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),loadJs=function(t){var e=document.createElement("script");e.src=t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)},window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RE30WVG95Q");var dn=1;db=function(e){t.config.___DEBUG__&&(console.log("#"+dn+" -> %c[DB]%c"+e,"color:red","color:black"),dn++)},"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./sw.js?t=202011810")})),window.onload=function(){var t=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;db("Page load time is "+t+"ms")};var isSupportWebp=function(){try{return 0===document.createElement("canvas").toDataURL("image/webp",.5).indexOf("data:image/webp")}catch(t){return!1}};try{var ua=new Browser}catch(t){}var footer=$("footer").html().replace("999+",mingyan.length);$("#md").hide(),$("#showall").hide(),$("footer").html(footer),qs=function(t){var e=location.href;e=e.replace("?","?&").split("&");var a="";for(i=1;i<e.length;i++)0==e[i].indexOf(t+"=")&&(a=e[i].replace(t+"=",""));return a},rdNum=function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},$("h1").fontFlex(30,50,70),$("h3").fontFlex(30,50,70),t.lazypic="./src/loading.svg",t.pic=function(e){var a=e.split("：")[0];if(2==e.split("：").length){var n=e.split("：")[1];db(n)}else if(3==e.split("：").length){n=e.split("：")[1]+"："+e.split("：")[2];db(n)}var o='onclick="my.my_click()"';if("解"==n||null!=pic_list[n]){if("解"==n)var i=solvePicUrl[a];else if(null!=pic_list[n])i=pic_list[n];if(!isSupportWebp())i=i.replace("/webp","");return t.PicMobie(),lazyload(),`<div id="my_text" ${o}>${n}</div><div id="my_pic">\n                            <img src="${t.lazypic}" data-src="${i}" data-pic-id=${n} class="mypic lazyload mdui-hoverable mdui-img-rounded fancybox" data-fancybox-group="ERSS_mingyan_pic"></img>\n                        </div>`}return lazyload(),`<div id="my_text" ${o}>${n}</div>`};var reload_time=0;if(localStorage.getItem("reload-time")&&(localStorage.setItem("___mingyan_reload_time__",localStorage.getItem("reload-time")),localStorage.removeItem("reload-time")),localStorage.getItem("___mingyan_reload_time__"))var reload_time=localStorage.getItem("___mingyan_reload_time__");t.reload_time_add=function(){reload_time++,localStorage.setItem("___mingyan_reload_time__",reload_time),db(reload_time);var t;switch(reload_time){case 10:t="点击 100 次有惊喜";break;case 100:t="点击 500 次有惊喜";break;case 500:t="点击 1000 次有惊喜，\n很大的惊喜哦！";break;case 1e3:t="点击 10000 次有惊喜，\n你都到这一步了，干嘛不看看后面的惊喜呢？";break;case 1e4:t="你好无聊啊……";break;default:t=""}t&&swal({title:"获得成就",text:t,icon:"success",button:"关闭",closeOnClickOutside:!1})};var my_face_click_time="";t.my_face_click=function(t){"xhemj"==t&&(my_face_click_time+="1"),"BlackToy"==t&&(my_face_click_time+="2"),"Oranjezelv"==t&&(my_face_click_time+="3"),db(my_face_click_time),-1!=my_face_click_time.indexOf("1")&&-1!=my_face_click_time.indexOf("2")&&-1!=my_face_click_time.indexOf("3")&&(swal({title:"获得成就",text:"彩蛋还没做好~~",icon:"info",button:"关闭",closeOnClickOutside:!1}),my_face_click_time="")},t.my_click=function(){if(-1!=$("#mingyan").text().indexOf("绿帽子")&&swal({title:"Fuck ♂ You ♂",text:"骚骚恪曾经说过：Fuck ♂ You ♂",icon:"",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("垃圾真好吃")&&swal({title:"获得成就",text:"最美垃圾人",icon:"success",button:"关闭",closeOnClickOutside:!1}),-1!=$("#mingyan").text().indexOf("来一起唱啊！！")){swal({title:"获得成就",text:"Shape OF You！",icon:"success",button:"关闭",closeOnClickOutside:!1});const t=new APlayer({container:document.getElementById("player"),fixed:!0,lrcType:3,audio:[{name:"Shape of You",artist:"Ed Sheeran",url:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3",cover:"https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg",lrc:"https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc"}]});$(".aplayer .aplayer-lrc").css("transform","translateY(-55px)"),t.play()}};var text_list={"松鼠":"的课本上</br>曾经出现过","来看王雷吧":"曾经在语文课上说过","零食杜绝":"曾经出现过","耳散伞":"曾经有过"};if(t.text=function(t){t.split("：")[0],t=t.split("：")[1];return null!=text_list[t]?text_list[t]:"曾经说过"},t.print=function(){t.all();var e=$("body").html();$("#searchbar").hide();var a=document.getElementById("showall").innerHTML.replace(/<a /g,"<span ").replace(/<\/a>/g,"</span>"),n=window.open("","","toolbar=no,scrollbars=yes,menubar=no");n.document.body.innerHTML="<title>名言 | ERSS</title>"+document.head.innerHTML+a+"</body></html>",n.print(),$("#searchbar").show(),n.close(),window.document.body.innerHTML=e,location.reload()},t.my_encode=function(t,e){return db(t),db(e),md5("1"+md5(encodeURI(t+"||"+e+"ERSS MINGYAN (c) xhemj")))},t.my_decode=function(e){for(i=0;i<mingyan.length;i++){var a=mingyan[i].split("：")[0];db(a);var n=mingyan[i].split("：")[1];if(db(n),e==t.my_encode(a,n))return db("encode:"+e),db(i),i;db("no")}},t.share=function(){var e=$("#name").text(),a=$("#mingyan").text().replace(/\s*/g,"");swal({title:"分享当前名言",text:"请手动复制下面的链接，把他发给别人吧",icon:"info",content:{element:"input",attributes:{placeholder:"加载出错了？刷新试试吧",value:location.protocol+"//"+location.host+"/"+t.my_encode(e,a),type:"text"}}}),$(".swal-content__input").attr("value",location.protocol+"//"+location.host+"/"+t.my_encode(e,a)),$(".swal-content__input").attr("onclick","this.select()"),$(".swal-content__input").select()},t.download=function(){var t=new Blob([mingyan.join("\n")],{type:"text/plain;charset=utf-8"});saveAs(t,"名言列表（"+my.version+"）")},t.show=function(e){try{if($("#md").hide(),$("#main").hide(),0!=mingyan.length){db("加载名言列表成功");var a={"#/search":!0,"#/more":!0,"#/about":!0};if(e)n=e;else if(""!=qs("id"))var n=qs("id");else if(""!=location.hash&&1!=a[location.hash])var n=location.hash.replace("#","");else n=rdNum(0,mingyan.length-1);if(1==a[location.hash])return;var o=mingyan[n].split("：")[0];if(db(o),2==mingyan[n].split("：").length){var i=mingyan[n].split("：")[1];db(i)}else if(3==mingyan[n].split("：").length){i=mingyan[n].split("：")[1]+"："+mingyan[n].split("：")[2];db(i)}db("已选取第"+n+"条名言："+i),_hmt.push(["_trackEvent","名言","查看","自动",o+"："+i]),$("p#info").html('<div class="info-text"><a href="//'+location.hostname+location.pathname+"#"+n+'" class="label label-rounded label-warning">#'+n+'</a>&nbsp;<a href="javascript:;" onclick="my.share()" class="label label-rounded label-warning"><i class="mdui-icon material-icons" style="font-size: 15px;">share</i>分享</a></br><a id="reload" href="javascript:;" onclick="my.reload();my.reload_time_add();_hmt.push([\'_trackEvent\', \'名言\', \'刷新\', \'手动\' , \'点击查看更多名言\']);" >点击</a>查看更多名言</div>'),$("span#mingyan").html(t.pic(o+"："+i));var c=t.text(o+"："+i);$("span#name").text(o),$("span#verb").html(c),$("#main").fadeIn();var s="名言 | "+i;document.title=s;var l=o+c+"："+i;$('meta[name="description"]').attr("content",l),$('meta[property="og:description"]').attr("content",l),$('meta[name="og:description"]').attr("content",l),$('meta[property="og:title"]').attr("content",s),$('meta[name="og:title"]').attr("content",s),lazyload()}}catch(t){console.error(t),console.error("名言加载失败"),$("#mingyan").text("名言加载失败"),$("#info").html("错误信息：</br>"+t+'</br>建议：<a href="javascript:my.reload()">点我刷新页面</a>'),$("#main").fadeIn(),$("#info").fadeIn()}},"Mobile"!=ua.device){var inputbar_width="60%";$("#main").css("transform","translateY(15%)")}else{var inputbar_width="auto";$("#main").css("transform","translateY(30%)"),$("#md").css("transform","translateY(50px)")}t.PicMobie=function(){"Mobile"==ua.device?$("#main").css("transform","translateY(15%)"):$("#main").css("transform","translateY(10%)"),lazyload()},t.reload=function(){history.pushState({},"名言 | ERSS","/"),""!=location.hash||""!=qs("id")||""!=qs("mail")?location.href="//"+location.hostname+":"+location.port+location.pathname:t.show(),lazyload()},t.hide_showall=function(){$("#md").hide(),$("#showall").hide(),$("#main").fadeIn(),$("footer").html(footer),"#search"==location.hash&&(location.href="#")},t.all=function(){$("#md").hide(),$("#main").hide(),$("input#searchbar").val("");var t='<input style="'+inputbar_width+'" onclick="this.select()" type="search" id="searchbar" placeholder="搜索……" results="5"></input></br></br><span class="e"></span>';for(i=0;i<mingyan.length;i++)t+='<div><a style="color:black" id="showall_item" class="'+i+'" href="./?id='+i+'">'+mingyan[i]+"</a></div>";t+="</br></br></br>",$("#showall").html(t),$("#showall").fadeIn(),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#searchbar").focus()},t.md=function(t,e){$("#md").hide(),$("#main").hide(),$("#showall").hide(),$(t).html('<strong><div style="text-align: center" class="mdui-ripple"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>'),$.get(e,(function(e){marked.setOptions({breaks:!0});var a=marked(e);a=a.replace(/<a /g,'<a target="_blank" '),$(t).html("<strong>"+a+"</strong></br></br></br></br>"),$(t).fadeIn()})),$("footer").html("当前名言数量："+mingyan.length+'</br><a class="aline" href=javascript:; onclick="my.hide_showall()">返回</a>'),$("#md").fadeIn()},t.more=function(){t.md("#md","./src/md/more.md?t="+t.config.___date_version___)},t.about=function(){t.md("#md","./src/md/about.md?t="+t.config.___date_version___)},t.md_all=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++)t+=mingyan[i]+"</br>";t+="</br></br></br></br>",$("#md").html(marked(t)),$("#md").fadeIn()},t.tongji=function(){$("#md").hide(),$("#main").hide(),$("#showall").hide();var t="";for(i=0;i<mingyan.length;i++){try{var e=mingyan[i].split("：")[0],a=mingyan[i+1].split("：")[0]}catch(t){}db(e+"-"+a),t+=e==a?e:a}var n="";n+=["数学老王："+t.match(/老王/g).length,"英语老俞："+t.match(/老俞/g).length,"数学潘哥："+t.match(/潘哥/g).length,"语文老朱："+t.match(/老朱/g).length,"物理刘老师："+t.match(/物理刘老师/g).length,"物理王老师："+t.match(/物理王老师/g).length,"地理吴老师："+t.match(/地理吴老师/g).length,"地理朱老师："+t.match(/地理朱老师/g).length,"政治王老师："+t.match(/政治王老师/g).length,"化学吴老师："+t.match(/化学吴老师/g).length,"历史李老师："+t.match(/历史李老师/g).length,"美术林老师："+t.match(/美术林老师/g).length,"体育吴老师："+t.match(/体育吴老师/g).length,"体育俞老师："+t.match(/体育俞老师/g).length,"生物吴老师："+t.match(/生物吴老师/g).length].join(" 句</br>")+" 句</br></br></br></br>",$("#md").html(marked(n)),$("#md").fadeIn()},t.search=function(){if($("#searchbar").is(":focus")||""!=qs("q"))if($("input#searchbar").val())switch($("input#searchbar").val()){case"::auto_reload":location.href="./?force_action=auto_reload";break;default:var now1=$("input#searchbar").val(),now2=$("input#searchbar").val();now1==now2&&($("a#showall_item").each((function(){if(-1!=$(this).text().indexOf($("input#searchbar").val())){var reg="/"+$("input#searchbar").val()+"/g";$(this).html($(this).text().replace(eval(reg),'<span class="label label-secondary">'+$("input#searchbar").val()+"</span>")),$(this).show()}else $(this).hide()})),$(".e").hide())}else $("a#showall_item").show(),$("a#showall_item").each((function(){$(this).html($(this).html().replace('<span class="label label-secondary">',"")),$(this).html($(this).html().replace("</span>",""))}));null!=$("#showall")[0].innerText.match(/^\s*$/)?($(".e").text("无结果"),$(".e").show()):$("#searchbar").is(":focus")&&$(".e").hide()};var search=setInterval(t.search,100);qs("mail")&&(window.open("mailto:"+qs("mail").replace("---","@")),t.reload());var title="名言 | ERSS",titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="名言 | 来看名言呀！",clearTimeout(titleTime)):document.title=title})),t.ranking_api={add:add=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"add",name:t,ip:e,ua:navigator.userAgent.toString()||""}}).then((t=>{db("添加成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},list:list=function(){return new Promise((function(t,e){app.callFunction({name:"mingyan",data:{event:"list"}}).then((e=>{db("获取成功"),console.log(e),t(e)})).catch((function(t){e(t)}))}))},update:update=function(t,e){return new Promise((function(a,n){app.callFunction({name:"mingyan",data:{event:"update",id:t,data:{name:e}}}).then((t=>{db("获取成功"),console.log(t),a(t)})).catch((function(t){n(t)}))}))},getIp:getIp=function(){return new Promise((function(t,e){$.getJSON("https://ip.xhemj.now.sh/api/ip?t=___"+(new Date).getTime()+rdNum(0,(new Date).getTime())+"__",(function(e){db("获取成功");var a={ip:e.ip};t(a)})).catch((function(t){e(t)}))}))}};const app=cloudbase.init({env:"xhemj-0gjckebwf7276129"}),auth=app.auth();async function login(){await auth.anonymousAuthProvider().signIn();const t=await auth.getLoginState();db("登陆成功"),console.log(t)}function hashchange(){switch(location.hash){case"#/about":location.pathname="/",my.hide_showall(),my.about();break;case"#/search":location.pathname="/",my.hide_showall(),my.all();break;case"#/more":location.pathname="/",my.hide_showall(),my.more()}}switch(login(),t.ranking=function(){(new Date).getTime()>=16094304e5&&my.ranking_api.getIp().then((function(e){console.log(e.ip);var a=e.ip;my.ranking_api.list().then((function(e){var n=e.result.res.data,o="";for(i=0;i<n.length;i++)n[i].ip==a&&(o+="a");console.log(o),o||localStorage.getItem("___mingyan_2021_ranking_data__")?(db("老用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),location.href="./"):(db("新用户"),localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`),t.ranking_api.add("一位不知道名字的访客",a).then((function(t){localStorage.setItem("___mingyan_2021_ranking_data__",`__${a}__`);var e=t.result.res.id,o=n.length;swal({title:`第${o+1}个人！！`,text:`恭喜你成为2021年第${o+1}个查看名言的人！！`,icon:"success",content:{element:"input",attributes:{placeholder:"写个名字记录一下你是谁吧！",type:"text"}}}).then((t=>{t&&(my.ranking_api.update(e,t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})),location.href="./")}))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))})).catch((function(t){console.error(t)}))},window.addEventListener("hashchange",hashchange),hashchange(),location.pathname){case"/about":location.hash="#/about";break;case"/search":location.hash="#/search";break;case"/more":location.hash="#/more";break;case"/":switch($(document).ready((function(){t.show()})),"2020"!=qs("force_action")&&localStorage.getItem("___mingyan_2021_ranking_data__")||t.ranking(),qs("force_action")){case"clear_save":localStorage.removeItem("___mingyan_2021_ranking_data__");break;case"auto_reload":setInterval((function(){my.show()}),3e3)}break;case"/index.html":$(document).ready((function(){t.show()}));break;default:if(32==location.pathname.split("/")[1].length){var id=t.my_decode(location.pathname.split("/")[1]),myid=new Number(id);$(document).ready((function(){t.show(myid.toString())}))}else clearInterval(search),$(".app").load("./src/_404.html")}if(Headroom.cutsTheMustard){var myElement=document.getElementById("header"),headroom=new Headroom(myElement,{offset:300,tolerance:5});headroom.init()}lazyload(),setInterval(lazyload,1e3),setTimeout((()=>{$(".fancybox").fancybox({buttons:["zoom","share","slideShow","fullScreen","download","close"],lang:"zh-cn",i18n:{"zh-cn":{CLOSE:"关闭",NEXT:"下一张",PREV:"前一张",ERROR:"图片加载失败， <br/> 请稍后再试。",FULL_SCREEN:"全屏",THUMBS:"略缩图",DOWNLOAD:"下载",SHARE:"分享",ZOOM:"缩放"}}})}),500)}(my);
