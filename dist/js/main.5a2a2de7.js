(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main"],{"0d84":function(t,e,n){"use strict";var r=n("e450"),a=n("d393");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"1c03":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("2070"),n("79fd"),n("3f7e"),n("bd5e"),n("0d84"),n("6afd"),n("45f5"),n("c247"),n("58a1");function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},2070:function(t,e,n){var r=n("e450"),a=n("eb35"),i=n("a89e"),c=n("d50e"),o=c((function(){i(1)}));r({target:"Object",stat:!0,forced:o},{keys:function(t){return i(a(t))}})},"2e06":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"my--main-app"}},[n("div",{staticClass:"my--main"},[n("h3",{staticClass:"my--mingyan-show"},[n("span",{staticClass:"my--mingyan-name icon my--name-wave label"},[t._v(" "+t._s(t.teacher)+" ")]),n("span",{staticClass:"my--mingyan-verb"},[t._v("曾经说过")]),t._v("： ")]),n("h1",[n("span",{staticClass:"my--mingyan-text label label-secondary"},[n("span",{staticClass:"my--mingyan-raw"},[t._v(" "+t._s(t.text)+" ")]),t.mingyanPicUrl[t.text]?n("MYImage",{attrs:{rawMingyan:t.rawMingyan}}):t._e()],1)]),n("div",{staticClass:"my--mingyan-info info-text"},[n("MYInfo",{attrs:{mingyan:t.rawMingyan}}),t._v("   "),n("MYStar",{attrs:{mingyan:t.rawMingyan}}),n("br"),n("div",{staticClass:"tips"},[n("a",{staticStyle:{color:"#9b4dc9"},attrs:{id:"reload",onclick:"_hmt.push(['_trackEvent', '名言', '刷新', '手动' , '点击查看更多名言']);"},on:{click:t.nextMingyan}},[t._v("点击")]),t._v("查看更多名言 ")])],1)]),n("MYFooter")],1)},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"my--star-btn label label-rounded label-warning",on:{click:t.doStar}},[n("i",{staticClass:"mdui-icon material-icons",staticStyle:{"font-size":"15px"}},[t._v("")]),t._v("  点赞")])},c=[],o=n("6a79"),s=n("1b2a"),u=n("f561"),m=n("1de4"),f=n.n(m),d={name:"MYStar",props:{mingyan:String},data:function(){return{starEvent:"addstar",loadingHtml:'\n    \x3c!-- 点赞 --\x3e\n    <i class="mdui-icon material-icons" id="star-logo" style="cursor: pointer;">&#xe8dc;</i>\n    <span class="my--star-num">\n    \x3c!-- 加载动画 --\x3e\n  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto;background: none;shape-rendering: auto;position: relative;transform: translateY(5px);" width="15px" height="15px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">\n    <circle cx="50" cy="50" fill="none" stroke="rgba(0,0,0,.65)" stroke-width="10" r="35" stroke-dasharray="164.93361431346415 56.97787143782138">\n      <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="0.75s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>\n    </circle>\n  \x3c!-- https://loading.io/ --\x3e</svg>\n    </span>\n    '}},mounted:function(){window.addEventListener("hashchange",(function(){this.starEvent="addstar"})),Object(o["c"])("#star-logo",this.doStar)},created:function(){this.doStar=this.star},methods:{isSwalShow:function(){return Object(o["g"])(".swal-overlay--show-modal")},turnRed:function(){return document.querySelector("#star-logo").style.color="red"},turnGray:function(){return document.querySelector("#star-logo").style.color="#000000A3"},star:function(){var t=this;if(Object(o["l"])(this.mingyan),!this.isSwalShow())switch(f()({title:document.querySelector(".my--mingyan-text").innerText,text:"加载出错了？刷新试试？",icon:s["a"],button:"关闭"}).then((function(){t.starEvent="addstar"})),document.querySelector(".swal-icon.swal-icon--custom>img").style.maxWidth="150px",document.querySelector(".swal-text").innerHTML=this.loadingHtml,this.turnGray(),this.starEvent){case"addstar":this.addStar();break;case"removestar":this.removeStar();break}},addStar:function(){var t=this;t.turnGray(),u["a"].addStar().then((function(e){var n=e.code;0!=n?(o["a"].err(e.msg),document.querySelector(".my--star-num").innerHTML=e.data.starNum,e.data.isStar&&(t.turnRed(),t.starEvent="removestar")):(o["a"].su(e.msg),document.querySelector(".my--star-num").innerHTML=e.data.starNum,e.data.isStar&&(t.turnRed(),t.starEvent="removestar"))}))["catch"]((function(t){o["a"].err("错误：\n"+t)}))},removeStar:function(){var t=this;t.turnGray(),u["a"].removeStar().then((function(e){var n=e.code;0!=n?(o["a"].err(e.msg),document.querySelector(".my--star-num").innerHTML=e.data.starNum,e.data.isStar||(t.turnGray(),t.starEvent="addstar")):(o["a"].su(e.msg),document.querySelector(".my--star-num").innerHTML=e.data.starNum,e.data.isStar||(t.turnGray(),t.starEvent="addstar"))}))["catch"]((function(t){o["a"].err("错误：\n"+t)}))}}},l=d,h=(n("e1f9"),n("b6e2"),n("4ac2")),y=Object(h["a"])(l,i,c,!1,null,"ccbb67da",null),g=y.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"my--showfrom label label-rounded label-warning",on:{click:t.showInfo}},[n("i",{staticClass:"mdui-icon material-icons",staticStyle:{"font-size":"15px"}},[t._v("")]),t._v("  "),n("span",{staticClass:"my--showfrom-text"},[t._v(" "+t._s(t.type))])])},b=[],v=(n("a5c9"),n("1c03")),w=(n("b1fa"),n("57d2"),n("e3c1"),{getinfo:function(t){if(Promise)return new Promise((function(e,n){fetch(s["b"].showfrom,Object(v["a"])(Object(v["a"])({},s["c"]),{},{body:JSON.stringify({mingyan:t||document.querySelector(".my--mingyan-name").innerText.trim()+"："+document.querySelector(".my--mingyan-text").innerText.trim(),t:(new Date).getTime()})})).then((function(t){return t.json()})).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))}}),x={name:"MYInfo",props:{mingyan:String},data:function(){return{type:"世界馆",showFromData:""}},mounted:function(){this.loadType()},watch:{mingyan:function(){this.type="世界馆",this.loadType()}},methods:{showInfo:function(){var t=this;if(t.showFromData){var e=t.showFromData,n=e.from.submit_name||"耳斯名言团队",r=e.from.submit_school||"地球";f()({title:"",text:"提供者：".concat(n,"\n出自：").concat(r),icon:s["a"],button:"关闭"}),document.querySelector(".swal-icon.swal-icon--custom>img").style.maxWidth="150px",document.querySelector(".swal-text").style.fontSize="26px",document.querySelector(".swal-text").style.textAlign="center"}else t.showFromData="",w.getinfo(t.mingyan).then((function(e){return t.showFromData=e.data,t.showInfo()}))},loadType:function(){var t=this;w.getinfo(t.mingyan).then((function(e){t.showFromData=e.data;var n=t.showFromData.from.type;"厦门市音乐学校"==t.showFromData.from.submit_school&&(n="音校馆"),t.type=n,t.isReady=!0}))}}},O=x,j=(n("abb5"),Object(h["a"])(O,p,b,!1,null,"d71d9422",null)),S=j.exports,M=n("a6b2"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my--mingyan-pic",class:t.imgClassName},[n("FancyImage",{attrs:{src:t.imgSrc,title:t.rawMingyan,description:"拍摄：耳斯名言制作团队",className:"mdui-img-rounded my--mingyan-pic",alt:t.rawMingyan}})],1)},k=[],P=(n("2769"),n("8639"),n("9d74")),T=n("7cc4"),Y={name:"MYImage",components:{FancyImage:P["a"]},props:{rawMingyan:String},data:function(){return{mingyanPicUrl:T["e"],imgClassName:"",styleMinWidth:0}},mounted:function(){Object(o["d"])()?(this.styleMinWidth=28*this.text.split("").length-50,this.imgClassName="phone-img"):(this.styleMinWidth=28*this.text.split("").length-50,this.imgClassName="pc-img")},computed:{text:function(){return this.rawMingyan.split("：")[1]+(this.rawMingyan.split("：")[2]?"：":"")+(this.rawMingyan.split("：")[2]||"")},imgSrc:function(){return s["d"]+this.mingyanPicUrl[this.text]+(Object(o["h"])()?"/webp":"")}}},D=Y,E=(n("5a93"),Object(h["a"])(D,_,k,!1,null,null,null)),q=E.exports,C=n("41cb"),N=n("6283"),I=(n("f5bd"),function(){fetch("https://status.erss.club/api/v2/incidents/unresolved.json?t=_"+(new Date).getTime()).then((function(t){return t.json()})).then((function(t){var e=t.incidents;if(0!==e.length){var n,r=Object(N["a"])(e);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=a.updated_at||"未知",c=a.name||"未知",s="https://status.erss.club/incidents/"+a.id,u=a.impact||"未知",m={none:"几乎无影响",minor:"有部分影响",major:"大部分影响",critical:"几乎全部影响"};u=m[u]||"有部分影响",Object(o["l"])({update:i,name:c,url:s,impact:u});var f='<div id="incidents-report">\n<h2 id="incidents-report-title">网站维护中`(*>﹏<*)′</h2>\n<ul id="incidents-report-ul">\n<li id="incidents-report-li">维护内容：'.concat(c,'</li>\n<li id="incidents-report-li">更新时间：').concat(new Date(i).toLocaleString(),'</li>\n<li id="incidents-report-li">影响范围：').concat(u,'</li>\n<li id="incidents-report-li">详情：<a id="incidents-report-a" href="').concat(s,'" target="_blank" rel="nofollow">https://status.erss.club/</a></li>\n</ul>\n</div>');o["m"].open({type:"incidents",message:f})}}catch(d){r.e(d)}finally{r.f()}}}))}),F={name:"MYMain",components:{MYStar:g,MYInfo:S,MYFooter:M["a"],MYImage:q},data:function(){return{mingyanPicUrl:T["e"],teacher:"有一位老师",text:"名言找不到咯！！o(*￣▽￣*)ブ",rawMingyan:T["d"][Object(T["c"])()],starEvent:"addstar"}},mounted:function(){this.showMingyan(Object(T["c"])()),I()},methods:{showMingyan:function(t){this.rawMingyan=T["d"][t],this.teacher=Object(T["a"])(t).teacher,this.text=Object(T["a"])(t).text,Object(o["e"])(".my--main")},nextMingyan:function(){var t=Object(T["b"])();C["a"].push("/@"+t),this.showMingyan(t)},onTextClick:function(){alert("你点击了名言")}}},A=F,R=(n("de33"),Object(h["a"])(A,r,a,!1,null,"08bdcd54",null));e["default"]=R.exports},"3f7e":function(t,e,n){"use strict";var r=n("e450"),a=n("a3e7").filter,i=n("529c"),c=i("filter");r({target:"Array",proto:!0,forced:!c},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"45f5":function(t,e,n){var r=n("e450"),a=n("cdcb"),i=n("d9cc"),c=n("4b3a"),o=n("fc06"),s=n("f342");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,n,r=c(t),a=o.f,u=i(r),m={},f=0;while(u.length>f)n=a(r,e=u[f++]),void 0!==n&&s(m,e,n);return m}})},"4e8f":function(t,e,n){},"50ce":function(t,e,n){},"52fd":function(t,e,n){},"58a1":function(t,e,n){var r=n("e450"),a=n("cdcb"),i=n("3d27");r({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperty:i.f})},"5a93":function(t,e,n){"use strict";n("4e8f")},"6afd":function(t,e,n){var r=n("b074"),a=n("99f2"),i=n("d393"),c=n("429f");for(var o in a){var s=r[o],u=s&&s.prototype;if(u&&u.forEach!==i)try{c(u,"forEach",i)}catch(m){u.forEach=i}}},abb5:function(t,e,n){"use strict";n("b729")},b2a3:function(t,e,n){},b6e2:function(t,e,n){"use strict";n("52fd")},b729:function(t,e,n){},bd5e:function(t,e,n){var r=n("e450"),a=n("d50e"),i=n("4b3a"),c=n("fc06").f,o=n("cdcb"),s=a((function(){c(1)})),u=!o||s;r({target:"Object",stat:!0,forced:u,sham:!o},{getOwnPropertyDescriptor:function(t,e){return c(i(t),e)}})},c247:function(t,e,n){var r=n("e450"),a=n("cdcb"),i=n("d0ed");r({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperties:i})},d393:function(t,e,n){"use strict";var r=n("a3e7").forEach,a=n("104f"),i=a("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},de33:function(t,e,n){"use strict";n("b2a3")},e1f9:function(t,e,n){"use strict";n("50ce")},f561:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("99a5"),a=n("1c03"),i=(n("6a61"),n("b1fa"),n("57d2"),n("e3c1"),n("1b2a")),c=n("6a79");Object(c["k"])("https://recaptcha.net/recaptcha/api.js?onload=grecaptchaready&render=6LdOb_gaAAAAAAIQpvSd_6a5yjeneoVlvM159zwH",{async:!0,defer:!0});var o=!1,s=function(){Object(c["l"])("[点赞系统 v2.1] 人机验证加载成功！"),o=!0};window["grecaptchaready"]=s;var u=function(){return new Promise((function(t,e){o||e("人机验证正在加载中，请稍后再试"),window.grecaptcha.execute(i["e"],{action:"addstar"}).then((function(e){t(e)}))}))},m=i["b"].star_v2,f={getNum:function(t){if(Promise)return t||(t=document.querySelector(".my--mingyan-name").innerText.trim()+"："+document.querySelector(".my--mingyan-text").innerText.trim()),new Promise((function(e,n){fetch(m,Object(a["a"])(Object(a["a"])({},i["c"]),{},{body:JSON.stringify({event:"getnum",data:{MY_text:t,MY_token:Object(c["f"])(),t:(new Date).getTime()}})})).then((function(t){return t.json()})).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},addStar:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Promise){t.next=2;break}return t.abrupt("return");case 2:return e||n||(e=document.querySelector(".my--mingyan-name").innerText.trim()+"："+document.querySelector(".my--mingyan-text").innerText.trim()),r={},n&&e&&(r={MY_text:e}),n&&!e&&(r={MY_ID:n}),!n&&e&&(r={MY_text:e}),t.prev=7,t.next=10,u();case 10:return o=t.sent,t.abrupt("return",new Promise((function(t,e){fetch(m,Object(a["a"])(Object(a["a"])({},i["c"]),{},{body:JSON.stringify({event:"addstar",data:Object(a["a"])(Object(a["a"])({},r),{},{MY_token:Object(c["f"])(),re_token:o,t:(new Date).getTime()})})})).then((function(t){return t.json()})).then((function(e){t(e)}))["catch"]((function(t){e(t)}))})));case 14:t.prev=14,t.t0=t["catch"](7),c["a"].err("点赞失败："+t.t0);case 17:case"end":return t.stop()}}),t,null,[[7,14]])})));function e(e,n){return t.apply(this,arguments)}return e}(),removeStar:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Promise){t.next=2;break}return t.abrupt("return");case 2:return e||(e=document.querySelector(".my--mingyan-name").innerText.trim()+"："+document.querySelector(".my--mingyan-text").innerText.trim()),t.prev=3,t.next=6,u();case 6:return n=t.sent,t.abrupt("return",new Promise((function(t,r){fetch(m,Object(a["a"])(Object(a["a"])({},i["c"]),{},{body:JSON.stringify({event:"removestar",data:{MY_text:e,MY_token:Object(c["f"])(),re_token:n,t:(new Date).getTime()}})})).then((function(t){return t.json()})).then((function(e){t(e)}))["catch"]((function(t){r(t)}))})));case 10:t.prev=10,t.t0=t["catch"](3),c["a"].err("点赞失败："+t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));function e(e){return t.apply(this,arguments)}return e}(),getRanking:function(){if(Promise)return new Promise((function(t,e){fetch(m,Object(a["a"])(Object(a["a"])({},i["c"]),{},{body:JSON.stringify({event:"ranking",data:{t:(new Date).getTime()}})})).then((function(t){return t.json()})).then((function(e){t(e)}))["catch"]((function(t){e(t)}))}))},getHistoryRanking:function(){if(Promise)return new Promise((function(t,e){fetch("https://www.erssmy.com/api/get-ranking-history?_t="+(new Date).getTime()).then((function(t){return t.json()})).then((function(n){Object(c["l"])(n),"请求成功"==n.msg&&t(n.data),e(n.msg)}))}))},update:function(t,e){if(Promise){t||e||(t=document.querySelector(".my--mingyan-name").innerText.trim()+"："+document.querySelector(".my--mingyan-text").innerText.trim());var n={};return e&&t&&(n={MY_text:t}),e&&!t&&(n={MY_ID:e}),!e&&t&&(n={MY_text:t}),new Promise((function(t,e){fetch(m,Object(a["a"])(Object(a["a"])({},i["c"]),{},{body:JSON.stringify({event:"update",data:Object(a["a"])(Object(a["a"])({},n),{},{MY_token:Object(c["f"])(),t:(new Date).getTime()})})})).then((function(t){return t.json()})).then((function(e){t(e)}))["catch"]((function(t){e(t)}))}))}}}}}]);