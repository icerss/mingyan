(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{"048b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"my--search-app"}},[n("div",{staticClass:"my--search"},[t.isLoading?t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"my--search-bar",attrs:{type:"search",id:"searchbar",placeholder:"搜索……",results:"5"},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value)}}}),"search"===t.listMode?n("div",{staticClass:"search-list"},t._l(t.displayMingyan,(function(e){return n("div",{key:e,staticClass:"search-item"},[t.isStarInput?n("a",{staticClass:"showall-item",attrs:{"data-text":e},on:{click:function(e){return t.historyItemClick(e)}}},[e?n("MYSearchHighlight",{attrs:{searchText:t.inputValue,text:e}}):t._e()],1):n("a",{staticClass:"showall-item",attrs:{"data-text":e},on:{click:function(e){return t.historyItemClick(e)}}},[t._v(" "+t._s(e)+" ")])])})),0):t._e(),"ranking"===t.listMode?n("div",{staticClass:"search-history-list"},[t.isLoadHitsory?n("div",{staticClass:"history-list"},[n("div",{staticClass:"search-history-list-tip"},[t._v("每日精选名言：")]),t._l(t.historyDataList,(function(e,r){return n("div",{key:e.text,staticClass:"search-history-item",on:{click:function(e){return t.historyItemClick(e)}}},[n("a-row",{attrs:{"data-text":e.text}},[n("a-col",{attrs:{span:t.historyListWidth[0],id:"star-ranking-num","data-text":e.text}},[t._v(" "+t._s(new Number(r)+1)+" ")]),n("a-col",{staticClass:"my--star-ranking-text",attrs:{span:t.historyListWidth[1],id:"star-ranking-text","data-text":e.text}},[t._v(" "+t._s(e.text)+" ")])],1)],1)}))],2):n("div",{staticClass:"history-loading-mask"},[n("span",{staticClass:"loading-svg",domProps:{innerHTML:t._s(t.loadingSvg)}}),n("h3",[t._v("搜索加载中……")])])]):t._e(),t.isNoResult?n("span",{staticClass:"my--search-no-result"},[t._v("无结果")]):t._e()]),n("MYFooter",{attrs:{mode:"back"}})],1)},i=[],a=n("6283"),c=(n("3f7e"),n("9b24"),n("2398"),n("7cc4")),s=n("a6b2"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"search-highlight",attrs:{"data-text":t.text},domProps:{innerHTML:t._s(t.handleSearch)}})},u=[],f=(n("1130"),n("2769"),n("c5ce"),n("0756"),{name:"MYSearchHighlight",props:{text:String,searchText:String},computed:{handleSearch:function(){var t=new RegExp(this.searchText,"ig");return this.text.replace(t,'<span class="label label-secondary" :data-text="'.concat(this.text,'">')+this.searchText+"</span>")}}}),h=f,l=n("4ac2"),d=Object(l["a"])(h,o,u,!1,null,null,null),g=d.exports,p=n("f561"),y=n("41cb"),m={name:"MYSearch",components:{MYSearchHighlight:g,MYFooter:s["a"]},data:function(){return{loadingSvg:'\x3c!-- 加载动画 --\x3e<svg xmlns="http://www.w3.org/2000/svg"xmlns:xlink="http://www.w3.org/1999/xlink"style="margin: auto;background: none;shape-rendering: auto;position: relative;transform: translateY(60px);"width="30px"height="30px"viewBox="0 0 100 100"preserveAspectRatio="xMidYMid"><circle cx="50"cy="50"fill="none"stroke="rgba(0,0,0,.65)"stroke-width="10"r="35"stroke-dasharray="164.93361431346415 56.97787143782138"><animateTransform attributeName="transform"type="rotate"repeatCount="indefinite"dur="0.75s"values="0 50 50;360 50 50"keyTimes="0;1"></animateTransform></circle>\x3c!-- https://loading.io/ --\x3e</svg>',mingyan:c["d"],isStarInput:!1,inputValue:"",isLoadHitsory:!1,isLoading:!0,listMode:"ranking",historyListWidth:[4,16,4],historyDataList:[],displayLength:25,scrollEvent:null,isNoResult:!1}},watch:{inputValue:function(){this.inputValue?(this.handleSearch(),this.listMode="search"):this.listMode="ranking";var t,e="",n=Object(a["a"])(this.displayMingyan);try{for(n.s();!(t=n.n()).done;){var r=t.value;r&&(e+=r)}}catch(i){n.e(i)}finally{n.f()}this.isNoResult=!e},historyDataList:function(){this.listMode="ranking",this.isLoadHitsory=!0}},mounted:function(){this.getHistoryRanking(),this.scrollEvent=window.addEventListener("scroll",this.handleScroll)},computed:{displayDataList:function(){return this.displayMingyan.filter((function(t,e){this.displayLength}))},displayMingyan:function(){var t=this;if(this.isStarInput){for(var e=this.mingyan.filter((function(e){if(-1!==e.toLocaleLowerCase().indexOf(t.inputValue.toLocaleLowerCase()))return e})),n=[],r=0;r<this.displayLength;r++)n.push(e[r]);return n}for(var i=[],a=0;a<this.displayLength;a++)i.push(c["d"][a]);return i}},methods:{handleScroll:function(){document.body.clientHeight-window.scrollY-window.innerHeight<document.body.clientHeight/this.displayLength&&(this.displayLength<this.mingyan.length&&this.displayLength+10<this.mingyan.length?this.displayLength+=10:this.displayLength=this.mingyan.length)},handleSearch:function(){this.inputValue?this.isStarInput=!0:(this.isStarInput=!1,this.resultLength=0)},getHistoryRanking:function(){var t=this;p["a"].getHistoryRanking().then((function(e){for(var n=[],r=0;r<15;r++)n.push(e[r]);t.historyDataList=n,t.isLoading=!1})),setTimeout((function(){!t.historyDataList===[]&&(t.isLoading=!1)}),2e3)},findMingyan:function(t){for(var e in c["d"])if(c["d"][e]===t)return e;return 0},historyItemClick:function(t){var e=t.path[0].getAttribute("data-text");y["a"].push("/@"+this.findMingyan(e))}}},b=m,v=(n("fe94"),Object(l["a"])(b,r,i,!1,null,"020bb58f",null));e["default"]=v.exports},"0d84":function(t,e,n){"use strict";var r=n("e450"),i=n("d393");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},1130:function(t,e,n){var r=n("cdcb"),i=n("b074"),a=n("7aeb"),c=n("d362"),s=n("429f"),o=n("3d27").f,u=n("a5e4").f,f=n("7cd8"),h=n("f91c"),l=n("4cee"),d=n("6c39"),g=n("d50e"),p=n("8801"),y=n("817b").enforce,m=n("d4b8"),b=n("9bc6"),v=n("3dc9"),x=n("2e4d"),w=b("match"),O=i.RegExp,j=O.prototype,k=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,S=/a/g,_=/a/g,M=new O(S)!==S,L=l.UNSUPPORTED_Y,P=r&&(!M||L||v||x||g((function(){return _[w]=!1,O(S)!=S||O(_)==_||"/a/i"!=O(S,"i")}))),T=function(t){for(var e,n=t.length,r=0,i="",a=!1;r<=n;r++)e=t.charAt(r),"\\"!==e?a||"."!==e?("["===e?a=!0:"]"===e&&(a=!1),i+=e):i+="[\\s\\S]":i+=e+t.charAt(++r);return i},C=function(t){for(var e,n=t.length,r=0,i="",a=[],c={},s=!1,o=!1,u=0,f="";r<=n;r++){if(e=t.charAt(r),"\\"===e)e+=t.charAt(++r);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:k.test(t.slice(r+1))&&(r+=2,o=!0),i+=e,u++;continue;case">"===e&&o:if(""===f||p(c,f))throw new SyntaxError("Invalid capture group name");c[f]=!0,a.push([f,u]),o=!1,f="";continue}o?f+=e:i+=e}return[i,a]};if(a("RegExp",P)){for(var E=function(t,e){var n,r,i,a,o,u,l=this instanceof E,d=f(t),g=void 0===e,p=[],m=t;if(!l&&d&&g&&t.constructor===E)return t;if((d||t instanceof E)&&(t=t.source,g&&(e="flags"in m?m.flags:h.call(m))),t=void 0===t?"":String(t),e=void 0===e?"":String(e),m=t,v&&"dotAll"in S&&(r=!!e&&e.indexOf("s")>-1,r&&(e=e.replace(/s/g,""))),n=e,L&&"sticky"in S&&(i=!!e&&e.indexOf("y")>-1,i&&(e=e.replace(/y/g,""))),x&&(a=C(t),t=a[0],p=a[1]),o=c(O(t,e),l?this:j,E),(r||i||p.length)&&(u=y(o),r&&(u.dotAll=!0,u.raw=E(T(t),n)),i&&(u.sticky=!0),p.length&&(u.groups=p)),t!==m)try{s(o,"source",""===m?"(?:)":m)}catch(b){}return o},Y=function(t){t in E||o(E,t,{configurable:!0,get:function(){return O[t]},set:function(e){O[t]=e}})},D=u(O),R=0;D.length>R;)Y(D[R++]);j.constructor=E,E.prototype=j,d(i,"RegExp",E)}m("RegExp")},"1c03":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("2070"),n("79fd"),n("3f7e"),n("bd5e"),n("0d84"),n("6afd"),n("45f5"),n("c247"),n("58a1");function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},2070:function(t,e,n){var r=n("e450"),i=n("eb35"),a=n("a89e"),c=n("d50e"),s=c((function(){a(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(t){return a(i(t))}})},"3f7e":function(t,e,n){"use strict";var r=n("e450"),i=n("a3e7").filter,a=n("529c"),c=a("filter");r({target:"Array",proto:!0,forced:!c},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"45f5":function(t,e,n){var r=n("e450"),i=n("cdcb"),a=n("d9cc"),c=n("4b3a"),s=n("fc06"),o=n("f342");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,n,r=c(t),i=s.f,u=a(r),f={},h=0;while(u.length>h)n=i(r,e=u[h++]),void 0!==n&&o(f,e,n);return f}})},"58a1":function(t,e,n){var r=n("e450"),i=n("cdcb"),a=n("3d27");r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:a.f})},"675b":function(t,e,n){},"6afd":function(t,e,n){var r=n("b074"),i=n("99f2"),a=n("d393"),c=n("429f");for(var s in i){var o=r[s],u=o&&o.prototype;if(u&&u.forEach!==a)try{c(u,"forEach",a)}catch(f){u.forEach=a}}},bd5e:function(t,e,n){var r=n("e450"),i=n("d50e"),a=n("4b3a"),c=n("fc06").f,s=n("cdcb"),o=i((function(){c(1)})),u=!s||o;r({target:"Object",stat:!0,forced:u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return c(a(t),e)}})},c247:function(t,e,n){var r=n("e450"),i=n("cdcb"),a=n("d0ed");r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:a})},d362:function(t,e,n){var r=n("0f4e"),i=n("5ee6");t.exports=function(t,e,n){var a,c;return i&&"function"==typeof(a=e.constructor)&&a!==n&&r(c=a.prototype)&&c!==n.prototype&&i(t,c),t}},d393:function(t,e,n){"use strict";var r=n("a3e7").forEach,i=n("104f"),a=i("forEach");t.exports=a?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},f561:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("99a5"),i=n("1c03"),a=(n("6a61"),n("b1fa"),n("57d2"),n("e3c1"),n("1b2a")),c=n("6a79");Object(c["k"])("https://recaptcha.net/recaptcha/api.js?onload=grecaptchaready&render=6LdOb_gaAAAAAAIQpvSd_6a5yjeneoVlvM159zwH",{async:!0,defer:!0});var s=!1,o=function(){Object(c["l"])("[点赞系统 v2.1] 人机验证加载成功！"),s=!0};window["grecaptchaready"]=o;var u=function(){return new Promise((function(t,e){s||e("人机验证正在加载中，请稍后再试"),window.grecaptcha.execute(a["e"],{action:"addstar"}).then((function(e){t(e)}))}))},f=a["b"].star_v2,h={getNum:function(t){if(Promise)return t||(t=document.querySelector(".my--mingyan-name").innerText.trim()+"："+document.querySelector(".my--mingyan-text").innerText.trim()),new Promise((function(e,n){fetch(f,Object(i["a"])(Object(i["a"])({},a["c"]),{},{body:JSON.stringify({event:"getnum",data:{MY_text:t,MY_token:Object(c["f"])(),t:(new Date).getTime()}})})).then((function(t){return t.json()})).then((function(t){e(t)}))["catch"]((function(t){n(t)}))}))},addStar:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Promise){t.next=2;break}return t.abrupt("return");case 2:return e||n||(e=document.querySelector(".my--mingyan-name").innerText.trim()+"："+document.querySelector(".my--mingyan-text").innerText.trim()),r={},n&&e&&(r={MY_text:e}),n&&!e&&(r={MY_ID:n}),!n&&e&&(r={MY_text:e}),t.prev=7,t.next=10,u();case 10:return s=t.sent,t.abrupt("return",new Promise((function(t,e){fetch(f,Object(i["a"])(Object(i["a"])({},a["c"]),{},{body:JSON.stringify({event:"addstar",data:Object(i["a"])(Object(i["a"])({},r),{},{MY_token:Object(c["f"])(),re_token:s,t:(new Date).getTime()})})})).then((function(t){return t.json()})).then((function(e){t(e)}))["catch"]((function(t){e(t)}))})));case 14:t.prev=14,t.t0=t["catch"](7),c["a"].err("点赞失败："+t.t0);case 17:case"end":return t.stop()}}),t,null,[[7,14]])})));function e(e,n){return t.apply(this,arguments)}return e}(),removeStar:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Promise){t.next=2;break}return t.abrupt("return");case 2:return e||(e=document.querySelector(".my--mingyan-name").innerText.trim()+"："+document.querySelector(".my--mingyan-text").innerText.trim()),t.prev=3,t.next=6,u();case 6:return n=t.sent,t.abrupt("return",new Promise((function(t,r){fetch(f,Object(i["a"])(Object(i["a"])({},a["c"]),{},{body:JSON.stringify({event:"removestar",data:{MY_text:e,MY_token:Object(c["f"])(),re_token:n,t:(new Date).getTime()}})})).then((function(t){return t.json()})).then((function(e){t(e)}))["catch"]((function(t){r(t)}))})));case 10:t.prev=10,t.t0=t["catch"](3),c["a"].err("点赞失败："+t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));function e(e){return t.apply(this,arguments)}return e}(),getRanking:function(){if(Promise)return new Promise((function(t,e){fetch(f,Object(i["a"])(Object(i["a"])({},a["c"]),{},{body:JSON.stringify({event:"ranking",data:{t:(new Date).getTime()}})})).then((function(t){return t.json()})).then((function(e){t(e)}))["catch"]((function(t){e(t)}))}))},getHistoryRanking:function(){if(Promise)return new Promise((function(t,e){fetch("https://www.erssmy.com/api/get-ranking-history?_t="+(new Date).getTime()).then((function(t){return t.json()})).then((function(n){Object(c["l"])(n),"请求成功"==n.msg&&t(n.data),e(n.msg)}))}))},update:function(t,e){if(Promise){t||e||(t=document.querySelector(".my--mingyan-name").innerText.trim()+"："+document.querySelector(".my--mingyan-text").innerText.trim());var n={};return e&&t&&(n={MY_text:t}),e&&!t&&(n={MY_ID:e}),!e&&t&&(n={MY_text:t}),new Promise((function(t,e){fetch(f,Object(i["a"])(Object(i["a"])({},a["c"]),{},{body:JSON.stringify({event:"update",data:Object(i["a"])(Object(i["a"])({},n),{},{MY_token:Object(c["f"])(),t:(new Date).getTime()})})})).then((function(t){return t.json()})).then((function(e){t(e)}))["catch"]((function(t){e(t)}))}))}}}},fe94:function(t,e,n){"use strict";n("675b")}}]);