/*!
 * ERSS SAYING
 * (c) 2020-2022 Xhemj
 * Build: 2022-5-14 09:58:55
 * Version: 3.1.1
 * ====
 * o(〃＾▽＾〃)o
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([["MYSubmit-f80af03d"],{"869d":function(e,a,o){"use strict";o.r(a);o("8300"),o("7141"),o("7241"),o("83df");var t=o("9944"),r=o("1b2a"),s={name:"MYSubmit",data:function(){return{labelCol:{span:4},wrapperCol:{span:20},isLoadingSubmit:!1,isSubmit:!1,form:{name:"",school:"",classname:"",mail:"",saying:"",story:""},rules:{name:[{required:!0,message:"请输入昵称"}],school:[{required:!1}],classname:[{required:!1}],mail:[{required:!1}],saying:[{required:!0,message:"请输入名言"}],story:[{required:!1}]}}},mounted:function(){Object(t.d)(".my--submit")},methods:{resetForm:function(){this.$refs.ruleForm.resetFields()},onSubmit:function(){var e=this;this.$refs.ruleForm.validate((function(a){a?(e.isLoadingSubmit=!0,fetch(r.b.submit,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:"mingyan-contribute",data:{my:e.form.saying,name:e.form.name,story:e.form.story,class:e.form.classname,school:e.form.school,mail:e.form.mail,t:(new Date).getTime()}})}).then((function(){e.isLoadingSubmit=!1,Object(t.o)({title:"名言投稿成功！",text:"名言："+e.form.saying+"\n请等待审核",icon:"success",button:"关闭",closeOnClickOutside:!1}).then((function(){location.href="./?from=mingyan-contribute"}))})).catch((function(){t.a.err("提交失败，建议稍后再试")}))):t.a.err("提交失败，请检查填写的内容是否符合规则")}))}}},n=(o("fdb9"),o("9622"),o("cba8")),l=Object(n.a)(s,(function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",{staticClass:"my--submit"},[o("h1",[e._v("名言投稿")]),o("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[o("a-form-model-item",{ref:"name",attrs:{label:"昵称",prop:"name"}},[o("a-input",{attrs:{placeholder:"选填"},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}})],1),o("a-form-model-item",{ref:"school",attrs:{label:"学校",prop:"school"}},[o("a-input",{attrs:{placeholder:"选填"},model:{value:e.form.school,callback:function(a){e.$set(e.form,"school",a)},expression:"form.school"}})],1),o("a-form-model-item",{ref:"classname",attrs:{label:"班级",prop:"classname"}},[o("a-input",{attrs:{placeholder:"选填"},model:{value:e.form.classname,callback:function(a){e.$set(e.form,"classname",a)},expression:"form.classname"}})],1),o("a-form-model-item",{ref:"mail",attrs:{label:"邮箱",prop:"mail"}},[o("a-input",{attrs:{pattern:"^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$",placeholder:"选填，若您的名言被入选，我们将会第一时间联系您"},model:{value:e.form.mail,callback:function(a){e.$set(e.form,"mail",a)},expression:"form.mail"}})],1),o("a-form-model-item",{ref:"saying",attrs:{label:"名言",prop:"saying"}},[o("a-input",{attrs:{placeholder:"格式：教师名 + 名言"},model:{value:e.form.saying,callback:function(a){e.$set(e.form,"saying",a)},expression:"form.saying"}})],1),o("a-form-model-item",{ref:"story",attrs:{label:"名言故事",prop:"story"}},[o("a-input",{attrs:{type:"textarea",rows:"10",placeholder:"选填，有机会选入ERSS名言微信公众号哦！"},model:{value:e.form.story,callback:function(a){e.$set(e.form,"story",a)},expression:"form.story"}})],1),o("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:4}}},[o("a-button",{staticClass:"submit_btn",attrs:{type:"primary",loading:e.isLoadingSubmit},on:{click:e.onSubmit}},[e._v(" 提交 ")]),o("a-button",{staticStyle:{"margin-left":"10px"},on:{click:e.resetForm}},[e._v(" 清空 ")])],1)],1)],1)}),[],!1,null,"24c73b5a",null);a.default=l.exports},9622:function(e,a,o){"use strict";o("b519")},b519:function(e,a,o){},b7c5:function(e,a,o){},fdb9:function(e,a,o){"use strict";o("b7c5")}}]);