{"version":3,"sources":["main.js"],"names":["_mingyan","version","config","___DEBUG__","___date_version___","navigator","window","addEventListener","serviceWorker","register","onload","db","performance","timing","domContentLoadedEventEnd","navigationStart","_hmt","gtag","dataLayer","push","arguments","hm","document","createElement","src","s","getElementsByTagName","parentNode","insertBefore","Date","_","_$","el","querySelector","get","url","callback","isJson","request","XMLHttpRequest","open","this","status","data","response","JSON","parse","onerror","console","error","send","$main","$search","$md","$footer","$myInfo","localStorage","Object","defineProperty","aKeys","oStorage","value","sKey","writable","configurable","enumerable","nKeyId","sValue","cookie","escape","length","iThisIndx","indexOf","setItem","splice","removeItem","aCouple","iKey","nIdx","aCouples","split","unescape","hashName","#/search","#/more","#/about","picBaseUrl","lazypic","ua","Browser","footer","$","html","replace","mingyan","faceClickTime","loadJs","su","hide","fontFlex","dn","log","i","isSupportWebp","toDataURL","err","qs","location","href","re","randomNumber","minNum","maxNum","parseInt","Math","random","checkPic","my","name","my_out","special","undefined","mingyanPicUrl","pic","solvePicUrl","checkPicForMobie","lazyload","reloadTime","getItem","addReloadTime","text","swal","title","icon","button","closeOnClickOutside","checkFaceClickTime","onMingyanClick","ap","APlayer","container","getElementById","fixed","lrcType","audio","artist","cover","lrc","css","play","checkText","specialVerbList","print","showAll","oldstr","printData","innerHTML","wind","body","head","show","close","reload","encodeMingyan","md5","encodeURI","decodeMingyan","id","share","content","element","attributes","placeholder","protocol","host","type","attr","select","download","blob","Blob","join","saveAs","skipCheckHash","initfancybox","n","hash","verb","fadeIn","description","Error","device","inputbar_width","checkTextForMobie","hideElement","hideMain","val","showall","initLogo","focus","mdToHtml","marked","setOptions","breaks","more","about","showAllMingyan","out","tongji","o","e","a1","a2","match","search","is","now1","now2","each","reg","eval","setInterval","titleTime","hidden","clearTimeout","app","cloudbase","init","env","auth","async","login","anonymousAuthProvider","signIn","loginState","getLoginState","rankingApi","add","ip","Promise","resolve","reject","callFunction","event","toString","userAgent","then","res","catch","update","getIp","getJSON","json","getNum","ranking","getTime","ip_data","add_data","result","num_data","num","update_data","iswebp","append","position","bottom","right","width","onHashChange","pathname","ready","myid","Number","clearInterval","load","Headroom","cutsTheMustard","myElement","headroom","offset","tolerance","setTimeout","fancybox","buttons","lang","i18n","zh-cn","CLOSE","NEXT","PREV","ERROR","FULL_SCREEN","THUMBS","DOWNLOAD","SHARE","ZOOM","purple","yellow","slice","goHome","clearHash","checkPage","isShow","checkHash"],"mappings":"CAKA,WAEI,IAAIA,SAAWA,UAAY,GAE3BA,SAASC,QAAU,aACnBD,SAASE,OAAS,CACdC,YAAY,EACZC,mBAAoB,cAMpB,kBAAmBC,WACnBC,OAAOC,iBAAiB,QAAQ,KAC5BF,UAAUG,cAAcC,SAAS,6BAOzCH,OAAOI,OAAS,WAEZC,GAAG,sBADYL,OAAOM,YAAYC,OAAOC,yBAA2BR,OAAOM,YAAYC,OAAOE,iBACzD,OAMzC,IAAIC,KAAOA,MAAQ,GAYnB,SAASC,OAASC,UAAUC,KAAKC,YAXjC,WACI,IAAIC,EAAKC,SAASC,cAAc,UAChCF,EAAGG,IAAM,8DACT,IAAIC,EAAIH,SAASI,qBAAqB,UAAU,GAChDD,EAAEE,WAAWC,aAAaP,EAAII,GAJlC,GAUAnB,OAAOY,UAAYZ,OAAOY,WAAa,GAEvCD,KAAK,KAAM,IAAIY,MACfZ,KAAK,SAAU,gBAKf,IAAIa,EAAI,GACJC,GAAK,SAAUC,GACf,OAAOV,SAASW,cAAcD,KAElC,SAAWF,GACPA,EAAEI,IAAM,SAAUC,EAAKC,EAAUC,GAC7B,IAAIC,EAAU,IAAIC,eAClBD,EAAQE,KAAK,MAAOL,GAAK,GAEzBG,EAAQ5B,OAAS,WACb,GAAI+B,KAAKC,QAAU,KAAOD,KAAKC,OAAS,IAAK,CACzC,IAAIC,EAAOF,KAAKG,SACZP,IACAM,EAAOE,KAAKC,MAAMH,IAEtBP,EAASO,KAIjBL,EAAQS,QAAU,WACdC,QAAQC,MAAM,UAGlBX,EAAQY,QAnBhB,CAqBGpB,GAKH,IAAIqB,MAAQ,QACRC,QAAU,WACVC,IAAM,MACNC,QAAU,SACVC,QAAU,QAKTjD,OAAOkD,cACRC,OAAOC,eAAepD,OAAQ,eAAgB,IAAI,WAC9C,IAAIqD,EAAQ,GAAIC,EAAW,GAC3BH,OAAOC,eAAeE,EAAU,UAAW,CACvCC,MAAO,SAAUC,GAAQ,OAAOA,EAAOrB,KAAKqB,GAAQ,MACpDC,UAAU,EACVC,cAAc,EACdC,YAAY,IAEhBR,OAAOC,eAAeE,EAAU,MAAO,CACnCC,MAAO,SAAUK,GAAU,OAAOP,EAAMO,IACxCH,UAAU,EACVC,cAAc,EACdC,YAAY,IAEhBR,OAAOC,eAAeE,EAAU,UAAW,CACvCC,MAAO,SAAUC,EAAMK,GACdL,IACLxC,SAAS8C,OAASC,OAAOP,GAAQ,IAAMO,OAAOF,GAAU,oDAE5DJ,UAAU,EACVC,cAAc,EACdC,YAAY,IAEhBR,OAAOC,eAAeE,EAAU,SAAU,CACtC1B,IAAK,WAAc,OAAOyB,EAAMW,QAChCN,cAAc,EACdC,YAAY,IAEhBR,OAAOC,eAAeE,EAAU,aAAc,CAC1CC,MAAO,SAAUC,GACRA,IACLxC,SAAS8C,OAASC,OAAOP,GAAQ,qDAErCC,UAAU,EACVC,cAAc,EACdC,YAAY,IAEhBxB,KAAKP,IAAM,WACP,IAAIqC,EACJ,IAAK,IAAIT,KAAQF,GAEM,KADnBW,EAAYZ,EAAMa,QAAQV,IACFF,EAASa,QAAQX,EAAMF,EAASE,IACjDH,EAAMe,OAAOH,EAAW,UACxBX,EAASE,GAEpB,KAAYH,EAAMW,OAAS,EAAGX,EAAMe,OAAO,EAAG,GAAMd,EAASe,WAAWhB,EAAM,IAC9E,IAAK,IAAIiB,EAASC,EAAMC,EAAO,EAAGC,EAAWzD,SAAS8C,OAAOY,MAAM,WAAYF,EAAOC,EAAST,OAAQQ,KACnGF,EAAUG,EAASD,GAAME,MAAM,YACnBV,OAAS,IACjBV,EAASiB,EAAOI,SAASL,EAAQ,KAAOK,SAASL,EAAQ,IACzDjB,EAAMxC,KAAK0D,IAGnB,OAAOjB,GAEXnB,KAAKuB,cAAe,EACpBvB,KAAKwB,YAAa,IAM1B,IAAIiB,SAAW,CACXC,YAAY,EACZC,UAAU,EACVC,WAAW,GAEXC,WAAa,yCACjBtF,SAASuF,QAAU,oBAKnB,IAAIC,GAAK,IAAIC,QACTC,OAASC,EAAErC,SAASsC,OAAOC,QAAQ,OAAQC,QAAQxB,QACnDyB,cAAgB,GAWpB,SAASC,OAAO7D,GACZ,IAAI8D,EAAK3E,SAASC,cAAc,UAChC0E,EAAGzE,IAAMW,EACT,IAAIV,EAAIH,SAASI,qBAAqB,UAAU,GAChDD,EAAEE,WAAWC,aAAaqE,EAAIxE,GAdlCkE,EAAEtC,KAAK6C,OACPP,EAAEvC,SAAS8C,OACXP,EAAErC,SAASsC,KAAKF,QAChBC,EAAE,MAAMQ,SAAS,GAAI,GAAI,IACzBR,EAAE,MAAMQ,SAAS,GAAI,GAAI,IAgBzB,IAAIC,GAAK,EACLC,IAAMrD,QAAQqD,IAClB,SAAS1F,GAAG2F,GACJtG,SAASE,OAAOC,aACA,iBAALmG,GAA6B,iBAALA,GAC/BD,IAAI,YAAYD,SAASE,KACzBF,OAEAC,IAAI,YAAYD,UAChBC,IAAIC,GACJF,OAQZ,SAASG,gBACL,IACI,OAAoG,IAA7FjF,SAASC,cAAc,UAAUiF,UAAU,aAAc,IAAKhC,QAAQ,mBAC/E,MAAOiC,GACL,OAAO,GAQf,SAASC,GAAGA,GACR,IAAIjF,EAAIkF,SAASC,KACjBnF,EAAIA,EAAEoE,QAAQ,IAAK,MAAMb,MAAM,KAC/B,IAAI6B,EAAK,GACT,IAAK,IAAIP,EAAI,EAAGA,EAAI7E,EAAE6C,OAAQgC,IACI,GAA1B7E,EAAE6E,GAAG9B,QAAQkC,EAAK,OAClBG,EAAKpF,EAAE6E,GAAGT,QAAQa,EAAK,IAAK,KAGpC,OAAOG,EAQX,SAASC,aAAaC,EAAQC,GAC1B,OAAQ5F,UAAUkD,QACd,KAAK,EACD,OAAO2C,SAASC,KAAKC,SAAWJ,EAAS,EAAG,IAEhD,KAAK,EACD,OAAOE,SAASC,KAAKC,UAAYH,EAASD,EAAS,GAAKA,EAAQ,IAEpE,QACI,OAAO,GAWnB/G,SAASoH,SAAW,SAAUC,GAC1B,IAAIC,EAAOD,EAAGrC,MAAM,KAAK,GACzB,GAA4B,GAAxBqC,EAAGrC,MAAM,KAAKV,OAEd3D,GADI4G,EAASF,EAAGrC,MAAM,KAAK,SAExB,GAA4B,GAAxBqC,EAAGrC,MAAM,KAAKV,OAAa,CAClC,IAAIiD,EACJ5G,GADI4G,EAASF,EAAGrC,MAAM,KAAK,GAAK,IAAMqC,EAAGrC,MAAM,KAAK,IAGxD,IAAIwC,EAAU,sCACd,GAAc,KAAVD,GAA0CE,MAAzBC,cAAcH,GAAsB,CACrD,GAAc,KAAVA,EACA,IAAII,EAAMC,YAAYN,QACnB,GAA6BG,MAAzBC,cAAcH,GACjBI,EAAMD,cAAcH,GAG5B,GAAIhB,gBACIoB,EAAMA,EAAM,QAIpB,OAFA3H,SAAS6H,mBACTC,WACO,qBAAqBN,KAAWD,mEACXvH,SAASuF,sBAAsBD,aAAaqC,kBAAoBJ,kJAK5F,OADAO,WACO,qBAAqBN,KAAWD,WAM/C,IAAIQ,WAAa,EACbvE,aAAawE,QAAQ,iBACrBxE,aAAaiB,QAAQ,2BAA4BjB,aAAawE,QAAQ,gBACtExE,aAAamB,WAAW,gBAExBnB,aAAawE,QAAQ,8BACrBD,WAAavE,aAAawE,QAAQ,6BAMtChI,SAASiI,cAAgB,WACrBF,aACAvE,aAAaiB,QAAQ,2BAA4BsD,YACjDpH,GAAGoH,YACH,IAAoBG,EACpB,OAAQH,YACJ,KAAK,GACDG,EAAO,cACP,MACJ,KAAK,IACDA,EAAO,cACP,MACJ,KAAK,IACDA,EAAO,yBACP,MACJ,KAAK,IACDA,EAAO,uCACP,MACJ,KAAK,IACDA,EAAO,UACP,MACJ,QACIA,EAAO,GAGXA,GACAC,KAAK,CACDC,MAvBI,OAwBJF,KAAMA,EACNG,KAAM,UACNC,OAAQ,KACRC,qBAAqB,KAUjCvI,SAASwI,mBAAqB,SAAUlC,GAC3B,SAALA,IACAP,eAAiB,KAEZ,YAALO,IACAP,eAAiB,KAEZ,cAALO,IACAP,eAAiB,KAErBpF,GAAGoF,gBAEgC,GAA/BA,cAAcvB,QAAQ,OAA6C,GAA/BuB,cAAcvB,QAAQ,OAA6C,GAA/BuB,cAAcvB,QAAQ,OAC9F2D,KAAK,CACDC,MAAO,OACPF,KAAM,WACNG,KAAM,OACNC,OAAQ,KACRC,qBAAqB,IAEzBxC,cAAgB,KAOxB/F,SAASyI,eAAiB,WAmBtB,IAlB4C,GAAxC9C,EAAE,YAAYuC,OAAO1D,QAAQ,QAC7B2D,KAAK,CACDC,MAAO,eACPF,KAAM,uBACNG,KAAM,GACNC,OAAQ,KACRC,qBAAqB,KAGiB,GAA1C5C,EAAE,YAAYuC,OAAO1D,QAAQ,UAC7B2D,KAAK,CACDC,MAAO,OACPF,KAAM,QACNG,KAAM,UACNC,OAAQ,KACRC,qBAAqB,KAGmB,GAA5C5C,EAAE,YAAYuC,OAAO1D,QAAQ,WAAkB,CAC/C2D,KAAK,CACDC,MAAO,OACPF,KAAM,gBACNG,KAAM,UACNC,OAAQ,KACRC,qBAAqB,IAGzB,IAAIG,EAAK,IAAIC,QAAQ,CACjBC,UAAWtH,SAASuH,eAAe,UACnCC,OAAO,EACPC,QAAS,EACTC,MAAO,CAAC,CACJ1B,KAAM,eACN2B,OAAQ,aACR9G,IAAK,2GACL+G,MAAO,oDACPC,IAAK,4FAIbxD,EAAE,yBAAyByD,IAAI,YAAa,qBAC5CV,EAAGW,SAQXrJ,SAASsJ,UAAY,SAAUjC,GAE3B,GADAA,EAAKA,EAAGrC,MAAM,KAAK,GACQyC,MAAvB8B,gBAAgBlC,GAAkB,CAElC,OADWkC,gBAAgBlC,GAG3B,MAAO,QAKfrH,SAASwJ,MAAQ,WACbxJ,SAASyJ,UACT,IAAIC,EAAS/D,EAAE,QAAQC,OAGvBD,EAAE,cAAcO,OAChB,IAAIyD,EAAYrI,SAASuH,eAAe,WAAWe,UAAU/D,QAAQ,OAAQ,UAAUA,QAAQ,SAAU,WACrGgE,EAAOvJ,OAAOkC,KAAK,GAAI,GAAI,wCAC/BqH,EAAKvI,SAASwI,KAAKF,UALL,2BAK2BtI,SAASyI,KAAKH,UAAYD,EAJrD,iBAKdE,EAAKL,QACL7D,EAAE,cAAcqE,OAChBH,EAAKI,QACL3J,OAAOgB,SAASwI,KAAKF,UAAYF,EACjC/C,SAASuD,UAUblK,SAASmK,cAAgB,SAAU7C,EAAMD,GAGrC,OAFA1G,GAAG2G,GACH3G,GAAG0G,GACI+C,IAAI,IAAMA,IAAIC,UAAU/C,EAAO,KAAOD,EAAK,6BAOtDrH,SAASsK,cAAgB,SAAUC,GAC/B,IAAK,IAAIjE,EAAI,EAAGA,EAAIR,QAAQxB,OAAQgC,IAAK,CACrC,IAAIgB,EAAOxB,QAAQQ,GAAGtB,MAAM,KAAK,GACjCrE,GAAG2G,GACH,IAAID,EAAKvB,QAAQQ,GAAGtB,MAAM,KAAK,GAE/B,GADArE,GAAG0G,GACCkD,GAAMvK,SAASmK,cAAc7C,EAAMD,GAGnC,OAFA1G,GAAG,UAAY4J,GACf5J,GAAG2F,GACIA,EAEP3F,GAAG,QAQfX,SAASwK,MAAQ,WACb,IAAIlD,EAAO3B,EAAE,SAASuC,OAClBb,EAAK1B,EAAE,YAAYuC,OAAOrC,QAAQ,OAAQ,IAC9CsC,KAAK,CACDC,MAAO,SACPF,KAAM,qBACNG,KAAM,OACNoC,QAAS,CACLC,QAAS,QACTC,WAAY,CACRC,YAAa,cACb/G,MAAO8C,SAASkE,SAAW,KAAOlE,SAASmE,KAAO,IAAM9K,SAASmK,cAAc7C,EAAMD,GACrF0D,KAAM,WAIlBpF,EAAE,wBAAwBqF,KAAK,QAASrE,SAASkE,SAAW,KAAOlE,SAASmE,KAAO,IAAM9K,SAASmK,cAAc7C,EAAMD,IACtH1B,EAAE,wBAAwBqF,KAAK,UAAW,iBAC1CrF,EAAE,wBAAwBsF,UAK9BjL,SAASkL,SAAW,WAChB,IAAIC,EAAO,IAAIC,KAAK,CAACtF,QAAQuF,KAAK,OAAQ,CAAEN,KAAM,6BAClDO,OAAOH,EAAM,QAAUnL,SAASC,QAAU,MAmB9C,IAAIsL,eAAgB,EAyFpB,GApFAvL,SAASgK,KAAO,SAAUO,GAEtBiB,eACA,IAII,GAFA7F,EAAEtC,KAAK6C,OACPP,EAAExC,OAAO+C,OACa,GAAlBJ,QAAQxB,OA4DR,OAAO,EA5Dc,CAErB,GADA3D,GAAG,YACE4J,EAYGkB,EAAIlB,OAXR,GAAgB,IAAZ7D,GAAG,MACH,IAAI+E,EAAI/E,GAAG,WACR,GAAqB,IAAjBC,SAAS+E,MAAyC,GAA3BxG,SAASyB,SAAS+E,MAAmC,CAEnF/K,GAAG,MADC8K,EAAI9E,SAAS+E,KAAK7F,QAAQ,IAAK,WAEhC,GAAIrC,aAAawE,QAAQ,mBAC5B,IAAIyD,EAAIjI,aAAawE,QAAQ,wBAEzByD,EAAI3E,aAAa,EAAGhB,QAAQxB,OAAS,GAKjD,GAA+B,GAA3BY,SAASyB,SAAS+E,MAAe,OAErCH,eAAgB,EAChB5E,SAAS+E,KAAO,IAAMD,EACtBF,eAAgB,EAEhB/H,aAAaiB,QAAQ,kBAAmBgH,GACxC,IAAInE,EAAOxB,QAAQ2F,GAAGzG,MAAM,KAAK,GAEjC,GADArE,GAAG2G,GACiC,GAAhCxB,QAAQ2F,GAAGzG,MAAM,KAAKV,OAEtB3D,GADI0G,EAAKvB,QAAQ2F,GAAGzG,MAAM,KAAK,SAE5B,GAAoC,GAAhCc,QAAQ2F,GAAGzG,MAAM,KAAKV,OAAa,CAC1C,IAAI+C,EACJ1G,GADI0G,EAAKvB,QAAQ2F,GAAGzG,MAAM,KAAK,GAAK,IAAMc,QAAQ2F,GAAGzG,MAAM,KAAK,IAGpErE,GAAG,OAAS8K,EAAI,OAASpE,GACzBrG,KAAKG,KAAK,CAAC,cAAe,KAAM,KAAM,KAAMmG,EAAO,IAAMD,IAEzD1B,EAAE,UAAUC,KACR,0DACY6F,iDAAiDA,wTAGV3E,aAAa,EAAGhB,QAAQxB,OAAS,yHAExFqB,EAAE,gBAAgBC,KAAK5F,SAASoH,SAASE,EAAO,IAAMD,IACtD,IAAIsE,EAAO3L,SAASsJ,UAAUhC,EAAO,IAAMD,GAC3C1B,EAAE,aAAauC,KAAKZ,GACpB3B,EAAE,aAAaC,KAAK+F,GACpBhG,EAAExC,OAAOyI,UACuC,GAA5CjG,EAAE,YAAYuC,OAAO1D,QAAQ,YAC7BwB,OAAO,mEAEX,IAAIoC,EAAQ,QAAUf,EACtB/F,SAAS8G,MAAQA,EACjB,IAAIyD,EAAcvE,EAAOqE,EAAO,IAAMtE,EACtC1B,EAAE,4BAA4BqF,KAAK,UAAWa,GAC9ClG,EAAE,mCAAmCqF,KAAK,UAAWa,GACrDlG,EAAE,+BAA+BqF,KAAK,UAAWa,GACjDlG,EAAE,6BAA6BqF,KAAK,UAAW5C,GAC/CzC,EAAE,yBAAyBqF,KAAK,UAAW5C,GAC3CN,YAIN,MAAOrB,GAML,MALAzD,QAAQC,MAAM,UACd0C,EAAE,YAAYuC,KAAK,UACnBvC,EAAEpC,SAASqC,KAAK,aAAea,EAAM,6DACrCd,EAAExC,OAAOyI,SACTjG,EAAEpC,SAASqI,SACL,IAAIE,MAAMrF,KASP,UAAbjB,GAAGuG,OACH,IAAIC,eAAiB,UAClB,CACH,IAAIA,eAAiB,OACrBrG,EAAExC,OAAOiG,IAAI,YAAa,mBAM9BpJ,SAASiM,kBAAoB,WAER,UAAbzG,GAAGuG,OACHpG,EAAExC,OAAOiG,IAAI,YAAa,oBAE1BzD,EAAExC,OAAOiG,IAAI,YAAa,mBAC1BzD,EAAEtC,KAAK+F,IAAI,YAAa,sBAGhCpJ,SAASiM,oBAKTjM,SAAS6H,iBAAmB,WACP,UAAbrC,GAAGuG,OACHpG,EAAExC,OAAOiG,IAAI,YAAa,mBAE1BzD,EAAExC,OAAOiG,IAAI,YAAa,mBAE9BtB,YAMJ9H,SAASkK,OAAS,WAWVvE,EAAE,WAAWqF,KAAK,QAClBrE,SAAS+E,KAAO,IAAM/F,EAAE,WAAWqF,KAAK,QAAQhG,MAAM,KAAK,GAE3D2B,SAAS+E,KAAO,IAAM5E,aAAa,EAAGhB,QAAQxB,OAAS,IAQ/DtE,SAASkM,YAAc,WACnBvG,EAAEtC,KAAK6C,OACPP,EAAEvC,SAAS8C,OACXP,EAAExC,OAAOyI,SACTjG,EAAErC,SAASsC,KAAKF,SAMpB1F,SAASmM,SAAW,WAChBxG,EAAExC,OAAO+C,QAOblG,SAASyJ,QAAU,WAEf9D,EAAEtC,KAAK6C,OACPP,EAAExC,OAAO+C,OACTP,EAAE,mBAAmByG,IAAI,IAEzB,IAAIC,EAAU,iBAAiBL,0JAE/B,IAAK,IAAI1F,EAAI,EAAGA,EAAIR,QAAQxB,OAAQgC,IAEhC+F,GAAW,wDAAwD/F,aAAaA,uCAAuCR,QAAQQ,eAEnI+F,GAAW,kBACX1G,EAAEvC,SAASwC,KAAKyG,GAChB1G,EAAEvC,SAASwI,SACXjG,EAAErC,SAASsC,KAAK,UAAUE,QAAQxB,yFAClCtE,SAASsM,WACT3G,EAAE,cAAc4G,SASpBvM,SAASwM,SAAW,SAAUjC,EAAIpI,GAC9BwD,EAAEtC,KAAK6C,OACPP,EAAExC,OAAO+C,OACTP,EAAEvC,SAAS8C,OACXP,EAAE4E,GAAI3E,KAAK,kJACX9D,EAAEI,IAAIC,GAAK,SAAUQ,GACjB8J,OAAOC,WAAW,CACdC,QAAQ,IAEZ,IAAI/G,EAAO6G,OAAO9J,GAClBiD,EAAOA,EAAKC,QAAQ,OAAQ,uBAC5BF,EAAE4E,GAAI3E,KAAK,WAAaA,EAAO,iCAC/BD,EAAE4E,GAAIqB,YAEVjG,EAAErC,SAASsC,KAAK,UAAYE,QAAQxB,OAAS,iFAC7CtE,SAASsM,WACT3G,EAAEtC,KAAKuI,UAOX5L,SAAS4M,KAAO,WACZ5M,SAASwM,SAASnJ,IAAK,sBAAwBrD,SAASE,OAAOE,qBAMnEJ,SAAS6M,MAAQ,WACb7M,SAASwM,SAASnJ,IAAK,uBAAyBrD,SAASE,OAAOE,qBAQpEJ,SAAS8M,eAAiB,WACtBnH,EAAEtC,KAAK6C,OACPP,EAAExC,OAAO+C,OACTP,EAAEvC,SAAS8C,OACX,IAAI6G,EAAM,GACV,IAAK,IAAIzG,EAAI,EAAGA,EAAIR,QAAQxB,OAAQgC,IAChCyG,GAAOjH,QAAQQ,GAAK,QAExByG,GAAO,uBACPpH,EAAEtC,KAAKuC,KAAK6G,OAAOM,IACnBpH,EAAEtC,KAAKuI,UA6BX5L,SAASgN,OAAS,WACdrH,EAAEtC,KAAK6C,OACPP,EAAExC,OAAO+C,OACTP,EAAEvC,SAAS8C,OACX,IAAI+G,EAAI,GACR,IAAK,IAAI3G,EAAI,EAAGA,EAAIR,QAAQxB,OAAQgC,IAAK,CACrC,IACaR,QAAQQ,GAAGtB,MAAM,KAAK,GACtBc,QAAQQ,EAAI,GAAGtB,MAAM,KAAK,GACrC,MAAOkI,IACTvM,GAAGwM,GAAK,IAAMC,IACVD,IAAMC,GACNH,GAAKE,GAELF,GAAKG,GAIb,IAmBIL,EAAM,GACVA,GApBY,CACR,QAAUE,EAAEI,MAAM,OAAO/I,OACzB,QAAU2I,EAAEI,MAAM,OAAO/I,OACzB,QAAU2I,EAAEI,MAAM,OAAO/I,OACzB,QAAU2I,EAAEI,MAAM,OAAO/I,OACzB,SAAW2I,EAAEI,MAAM,UAAU/I,OAC7B,SAAW2I,EAAEI,MAAM,UAAU/I,OAC7B,SAAW2I,EAAEI,MAAM,UAAU/I,OAC7B,SAAW2I,EAAEI,MAAM,UAAU/I,OAC7B,SAAW2I,EAAEI,MAAM,UAAU/I,OAC7B,SAAW2I,EAAEI,MAAM,UAAU/I,OAC7B,SAAW2I,EAAEI,MAAM,UAAU/I,OAC7B,SAAW2I,EAAEI,MAAM,UAAU/I,OAC7B,SAAW2I,EAAEI,MAAM,UAAU/I,OAC7B,SAAW2I,EAAEI,MAAM,UAAU/I,OAC7B,SAAW2I,EAAEI,MAAM,UAAU/I,QAKpB+G,KAAK,WAAa,yBAC/B1F,EAAEtC,KAAKuC,KAAK6G,OAAOM,IACnBpH,EAAEtC,KAAKuI,UAOX5L,SAASsN,OAAS,WACd,GAAI3H,EAAE,cAAc4H,GAAG,WAAwB,IAAX7G,GAAG,KACnC,GAAIf,EAAE,mBAAmByG,MACrB,OAAQzG,EAAE,mBAAmByG,OAEzB,IAAK,gBACDzF,SAASC,KAAO,8BAChB,MACJ,QACI,IAAI4G,KAAO7H,EAAE,mBAAmByG,MAC5BqB,KAAO9H,EAAE,mBAAmByG,MAC5BoB,MAAQC,OACR9H,EAAE,kBAAkB+H,MAAK,WACrB,IAA2D,GAAvD/H,EAAElD,MAAMyF,OAAO1D,QAAQmB,EAAE,mBAAmByG,OAAc,CAC1D,IAAIuB,IAAM,IAAMhI,EAAE,mBAAmByG,MAAQ,KAC7CzG,EAAElD,MAAMmD,KAAKD,EAAElD,MAAMyF,OAAOrC,QAAQ+H,KAAKD,KAAM,uCAAuChI,EAAE,mBAAmByG,iBAC3GzG,EAAElD,MAAMuH,YAERrE,EAAElD,MAAMyD,UAGhBP,EAAE,MAAMO,aAMpBP,EAAE,kBAAkBqE,OACpBrE,EAAE,kBAAkB+H,MAAK,WACrB/H,EAAElD,MAAMmD,KAAKD,EAAElD,MAAMmD,OAAOC,QAAQ,uCAA0C,KAC9EF,EAAElD,MAAMmD,KAAKD,EAAElD,MAAMmD,OAAOC,QAAQ,UAAW,QAKV,MAA7CF,EAAEvC,SAAS,GAAc,UAAEiK,MAAM,UACjC1H,EAAE,MAAMuC,KAAK,OACbvC,EAAE,MAAMqE,QAGJrE,EAAE,cAAc4H,GAAG,WACnB5H,EAAE,MAAMO,QAKpB,IAAIoH,OAASO,YAAY7N,SAASsN,OAAQ,KAKtC5G,GAAG,UACHpG,OAAOkC,KAAK,UAAYkE,GAAG,QAAQb,QAAQ,MAAO,MAClD7F,SAASkK,UAMb,IAAI9B,MAAQ,YACR0F,UACJxM,SAASf,iBAAiB,oBAAoB,WACtCe,SAASyM,QACTzM,SAAS8G,MAAQ,cACjB4F,aAAaF,YAGbxM,SAAS8G,MAAQA,SAUzB,MAAM6F,IAAMC,UAAUC,KAAK,CACvBC,IAAK,2BAGHC,KAAOJ,IAAII,OACjBC,eAAeC,cACLF,KAAKG,wBAAwBC,SACnC,MAAMC,QAAmBL,KAAKM,gBAC9BhO,GAAG,QACHA,GAAG+N,GAiOP,OA/NAH,QAEAvO,SAAS4O,WAAa,CAElBC,IAAK,SAAUvH,EAAMwH,GACjB,OAAO,IAAIC,SAAQ,SAAUC,EAASC,GAClChB,IACKiB,aAAa,CACV5H,KAAM,UACN3E,KAAM,CACFwM,MAAO,MACP7H,KAAMA,EAAK8H,WACXN,GAAIA,EACJtJ,GAAInF,UAAUgP,UAAUD,YAAc,MAG7CE,MAAMC,IACH5O,GAAG,QACHA,GAAG4O,GACHP,EAAQO,MAEXC,OAAM,SAAUtC,GACb+B,EAAO/B,UAKvBuC,OAAQ,SAAUlF,EAAIjD,GAClB,OAAO,IAAIyH,SAAQ,SAAUC,EAASC,GAClChB,IACKiB,aAAa,CACV5H,KAAM,UACN3E,KAAM,CACFwM,MAAO,SACP5E,GAAIA,EACJ5H,KAAM,CACF2E,KAAQA,MAInBgI,MAAMC,IACH5O,GAAG,QACHA,GAAG4O,GACHP,EAAQO,MAEXC,OAAM,SAAUtC,GACb+B,EAAO/B,UAMvBwC,MAAO,WACH,OAAO,IAAIX,SAAQ,SAAUC,EAASC,GAClCtJ,EAAEgK,QAAQ,kCACN,SAAUC,GACNjP,GAAG,QACH,IAAI4O,EAAM,CACNT,GAAMc,EAAKd,IAEfE,EAAQO,MACTC,OAAM,SAAUtC,GACf+B,EAAO/B,UAKvB2C,OAAQ,WACJ,OAAO,IAAId,SAAQ,SAAUC,EAASC,GAClChB,IACKiB,aAAa,CACV5H,KAAM,UACN3E,KAAM,CACFwM,MAAO,YAGdG,MAAMC,IACH5O,GAAG,QACHA,GAAG4O,GACHP,EAAQO,MAEXC,OAAM,SAAUtC,GACb+B,EAAO/B,WAU3BlN,SAAS8P,QAAU,YACX,IAAIjO,MAAOkO,WAAa,aAA6F,GAAlD1P,UAAUgP,UAAUD,WAAW5K,QAAQ,SAAqE,GAArDnE,UAAUgP,UAAUD,WAAW5K,QAAQ,WACjKxE,SAAS4O,WAAWc,QACfJ,MAAK,SAAUU,GACZrP,GAAGqP,EAAQlB,IACX,IAAIA,EAAKkB,EAAQlB,GACZtL,aAAawE,QAAQ,oCACtBrH,GAAG,OACH6C,aAAaiB,QAAQ,iCAAkC,KAAKqK,OAC5D9O,SAAS4O,WAAWC,IAAI,aAAcC,GACjCQ,MAAK,SAAUW,GACZzM,aAAaiB,QAAQ,iCAAkC,KAAKqK,OAC5D,IAAIvE,EAAK0F,EAASC,OAAOX,IAAIhF,GAC7BvK,SAAS4O,WAAWiB,SACfP,MAAK,SAAUa,GACZ,IAAIC,EAAMD,EAAiB,OAAQ,KAAQ,KAAE,GAAQ,IAErDhI,KAAK,CACDC,MAAO,IAAIgI,QACXlI,KAAM,cAAckI,aACpB/H,KAAM,UACNoC,QAAS,CACLC,QAAS,QACTC,WAAY,CACRC,YAAa,gBACbG,KAAM,SAGdxC,qBAAqB,IAEpB+G,MAAKhI,IACEA,IACAtH,SAAS4O,WAAWa,OAAOlF,EAAIjD,GAC1BgI,MAAK,SAAUe,GACZ1P,GAAG0P,MAGNb,OAAM,SAAUtC,GACblK,QAAQC,MAAMiK,MAEtBvG,SAASC,KAAO,YAI/B4I,OAAM,SAAUtC,GACblK,QAAQC,MAAMiK,SAGzBsC,OAAM,SAAUtC,GACblK,QAAQC,MAAMiK,UAI7BsC,OAAM,SAAUtC,GACblK,QAAQC,MAAMiK,OAS9BlN,SAASsM,SAAW,WAChB,IAAIgE,EAAS,MACT/J,kBACA+J,EAAS,YAEb3K,EAAErC,SAASiN,OAAO,wBAClB5K,EAAE,SAASC,KAAK,+EAA+E0K,iDAC9E,UAAb9K,GAAGuG,OACHpG,EAAE,SAASyD,IAAI,CACXoH,SAAY,WACZC,OAAU,OACVC,MAAS,MACTC,MAAS,UAGbhL,EAAE,SAASyD,IAAI,CACXoH,SAAY,WACZC,OAAU,OACVC,MAAS,MACTC,MAAS,WAIrB3Q,SAASsM,WAKTtM,SAAS4Q,aAAe,WAIpB,GAHApF,eACAxL,SAASiM,oBACTjM,SAASsM,WACsB,GAA3BpH,SAASyB,SAAS+E,MAClB,OAAQ/E,SAAS+E,MACb,IAAK,UACD/E,SAASkK,SAAW,IACpB7Q,SAASkM,cACTlM,SAASmM,WACTnM,SAAS6M,QACTlH,EAAE,SAASyD,IAAI,UAAW,IAC1B,MACJ,IAAK,WACDzC,SAASkK,SAAW,IACpB7Q,SAASkM,cACTlM,SAASmM,WACTnM,SAASyJ,UACT9D,EAAE,SAASyD,IAAI,UAAW,IAC1B,MACJ,IAAK,SACDzC,SAASkK,SAAW,IACpB7Q,SAASkM,cACTlM,SAASmM,WACTnM,SAAS4M,OACTjH,EAAE,SAASyD,IAAI,UAAW,SAK3BzC,SAAS+E,KAAK1G,MAAM,KAAKV,OAAS,IAAMiH,eAC/CvL,SAASgK,KAAKrD,SAAS+E,KAAK1G,MAAM,KAAK,KAG/ChF,SAAS4Q,eACTtQ,OAAOC,iBAAiB,aAAcP,SAAS4Q,cAKvCjK,SAASkK,UACb,IAAK,SACDlK,SAAS+E,KAAO,UAChB,MACJ,IAAK,UACD/E,SAAS+E,KAAO,WAChB,MACJ,IAAK,QACD/E,SAAS+E,KAAO,SAChB,MACJ,IAAK,cACL,IAAK,IAOD,OANA/F,EAAErE,UAAUwP,OAAM,WACd9Q,SAASgK,UAEa,QAAtBtD,GAAG,iBAA8BlD,aAAawE,QAAQ,mCACtDhI,SAAS8P,UAELpJ,GAAG,iBAAmBA,GAAG,OAC7B,IAAK,aACDlD,aAAamB,WAAW,kCACxB,MACJ,IAAK,cAEDkJ,aAAY,WACR7N,SAASgK,SACV,KAGX,MACJ,QAEI,GAA8C,IAA1CrD,SAASkK,SAAS7L,MAAM,KAAK,GAAGV,OAAc,CAC9C,IAAIiG,EAAKvK,SAASsK,cAAc3D,SAASkK,SAAS7L,MAAM,KAAK,IACzD+L,EAAO,IAAIC,OAAOzG,GACtB5E,EAAErE,UAAUwP,OAAM,WACd9Q,SAASgK,KAAK+G,EAAK3B,oBAIvB6B,cAAc3D,QACd3H,EAAE,QAAQuL,KAAK,mBAQ3B,GAAIC,SAASC,eAAgB,CACzB,IAAIC,EAAY/P,SAASuH,eAAe,UACpCyI,EAAW,IAAIH,SAASE,EAAW,CACnCE,OAAU,IACVC,UAAa,IAEjBF,EAASnD,OAYb,SAAS3C,eACLiG,YAAW,KACP9L,EAAE,aAAa+L,SAAS,CACpBC,QAAS,CACL,OACA,QACA,YACA,aACA,WACA,SAEJC,KAAM,QACNC,KAAM,CACFC,QAAS,CACLC,MAAO,KACPC,KAAM,MACNC,KAAM,MACNC,MAAO,uBACPC,YAAa,KACbC,OAAQ,MACRC,SAAU,KACVC,MAAO,KACPC,KAAM,WAInB,KAlCPzK,WAGA+F,YAAY/F,SAAU,KAqCtB9H,SAASgD,QAAU,WACf,IAAIwP,EAAS,kDACTC,EAAS,kDACb9R,GAAG,OACHqC,QAAQqD,IAAI,4KAQFmM,EAAQC,EAAQD,EAAQC,EAAQD,EAAQC,EAAQD,EAAQC,EAAQD,GAC1E1Q,EAAEI,IAAI,sDAAsD,SAAUqN,GAClE5O,GAAG,eAAe4O,EAAI,GAAQ,IAAEmD,MAAM,EAAG,SAC1C,IAEP1S,SAASgD,UAMThD,SAAS2S,OAAS3S,SAAS4S,UAAY,WACnCrH,eAAgB,EAChB5E,SAAS+E,KAAO,GAChB1L,SAASkM,cACTX,eAAgB,EAChBvL,SAASgK,QAMbhK,SAAS6S,UAAY,WACjB,SAASC,EAAO9Q,GACZ,OAAQ2D,EAAE3D,GAAIuL,GAAG,WAGrB,SAASwF,IACL,IAAIrH,EAAO/E,SAAS+E,KACpB,GAAIxG,SAASwG,GAET,OAAQA,GACJ,IAAK,SACD1L,SAAS4M,OACT,MACJ,IAAK,WACD5M,SAASyJ,UACT,MACJ,IAAK,UACDzJ,SAAS6M,aAKjB7M,SAAS4S,YAIbE,EAAO3P,QAAU2P,EAAO1P,UACxB2P,IAGAD,EAAO3P,QAAU2P,EAAOzP,MACxB0P,KAIRlF,aAAY,KACR7N,SAAS6S,cACV,KAKHvS,OAAON,SAAWA,SAClBM,OAAOiG,cAAgBA,cACvBjG,OAAOoG,GAAKA,GACZpG,OAAOwG,aAAeA,aACtBxG,OAAO0F,OAASA,OAChB1F,OAAOK,GAAKA,GACZL,OAAO+F,IAAMA,IACb/F,OAAOwB,EAAIA,EACXxB,OAAOyB,GAAKA,IArzChB","file":"main.min.js","sourcesContent":["/*\r\n* ©2020 xhemj\r\n* 2021/02/05\r\n*/\r\n\r\n(function () {\r\n    /* 配置 */\r\n    let _mingyan = _mingyan || {};\r\n\r\n    _mingyan.version = \"2021/02/05\";\r\n    _mingyan.config = {\r\n        ___DEBUG__: true,\r\n        ___date_version___: 202101302001\r\n    };\r\n\r\n    /**\r\n     * ServiceWorker\r\n     */\r\n    if ('serviceWorker' in navigator) {\r\n        window.addEventListener('load', () => {\r\n            navigator.serviceWorker.register('./sw.js?t=202101281305');\r\n        })\r\n    };\r\n\r\n    /**\r\n     * 加载耗时\r\n     */\r\n    window.onload = function () {\r\n        let loadTime = window.performance.timing.domContentLoadedEventEnd - window.performance.timing.navigationStart;\r\n        db('Page load time is ' + loadTime + \"ms\");\r\n    };\r\n\r\n    /**\r\n     * 百度统计代码\r\n     */\r\n    var _hmt = _hmt || [];\r\n    (function () {\r\n        let hm = document.createElement(\"script\");\r\n        hm.src = \"https://hm.baidu.com/hm.js?0673dbbe4e6ea51a92a74e3ba2bc051b\";\r\n        let s = document.getElementsByTagName(\"script\")[0];\r\n        s.parentNode.insertBefore(hm, s)\r\n    })();\r\n\r\n    /**\r\n     * 谷歌统计代码\r\n     */\r\n    window.dataLayer = window.dataLayer || [];\r\n    function gtag() { dataLayer.push(arguments); }\r\n    gtag('js', new Date());\r\n    gtag('config', 'G-RE30WVG95Q');\r\n\r\n    /**\r\n     * 基础函数（测试）\r\n     */\r\n    let _ = {};\r\n    let _$ = function (el) {\r\n        return document.querySelector(el);\r\n    };\r\n    (function (_) {\r\n        _.get = function (url, callback, isJson) {\r\n            let request = new XMLHttpRequest();\r\n            request.open('GET', url, true);\r\n\r\n            request.onload = function () {\r\n                if (this.status >= 200 && this.status < 400) {\r\n                    let data = this.response;\r\n                    if (isJson) {\r\n                        data = JSON.parse(data);\r\n                    };\r\n                    callback(data);\r\n                }\r\n            };\r\n\r\n            request.onerror = function () {\r\n                console.error(\"Error\")\r\n            };\r\n\r\n            request.send();\r\n        };\r\n    })(_);\r\n\r\n    /**\r\n     * 界面元素定义\r\n     */\r\n    let $main = \"#main\";\r\n    let $search = \"#showall\";\r\n    let $md = \"#md\";\r\n    let $footer = \"footer\";\r\n    let $myInfo = \"#info\";\r\n\r\n    /**\r\n     * localStorage 兼容\r\n     */\r\n    if (!window.localStorage) {\r\n        Object.defineProperty(window, \"localStorage\", new (function () {\r\n            var aKeys = [], oStorage = {};\r\n            Object.defineProperty(oStorage, \"getItem\", {\r\n                value: function (sKey) { return sKey ? this[sKey] : null; },\r\n                writable: false,\r\n                configurable: false,\r\n                enumerable: false\r\n            });\r\n            Object.defineProperty(oStorage, \"key\", {\r\n                value: function (nKeyId) { return aKeys[nKeyId]; },\r\n                writable: false,\r\n                configurable: false,\r\n                enumerable: false\r\n            });\r\n            Object.defineProperty(oStorage, \"setItem\", {\r\n                value: function (sKey, sValue) {\r\n                    if (!sKey) { return; }\r\n                    document.cookie = escape(sKey) + \"=\" + escape(sValue) + \"; expires=Tue, 19 Jan 2999 03:14:07 GMT; path=/\";\r\n                },\r\n                writable: false,\r\n                configurable: false,\r\n                enumerable: false\r\n            });\r\n            Object.defineProperty(oStorage, \"length\", {\r\n                get: function () { return aKeys.length; },\r\n                configurable: false,\r\n                enumerable: false\r\n            });\r\n            Object.defineProperty(oStorage, \"removeItem\", {\r\n                value: function (sKey) {\r\n                    if (!sKey) { return; }\r\n                    document.cookie = escape(sKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/\";\r\n                },\r\n                writable: false,\r\n                configurable: false,\r\n                enumerable: false\r\n            });\r\n            this.get = function () {\r\n                var iThisIndx;\r\n                for (var sKey in oStorage) {\r\n                    iThisIndx = aKeys.indexOf(sKey);\r\n                    if (iThisIndx === -1) { oStorage.setItem(sKey, oStorage[sKey]); }\r\n                    else { aKeys.splice(iThisIndx, 1); }\r\n                    delete oStorage[sKey];\r\n                }\r\n                for (aKeys; aKeys.length > 0; aKeys.splice(0, 1)) { oStorage.removeItem(aKeys[0]); }\r\n                for (var aCouple, iKey, nIdx = 0, aCouples = document.cookie.split(/\\s*;\\s*/); nIdx < aCouples.length; nIdx++) {\r\n                    aCouple = aCouples[nIdx].split(/\\s*=\\s*/);\r\n                    if (aCouple.length > 1) {\r\n                        oStorage[iKey = unescape(aCouple[0])] = unescape(aCouple[1]);\r\n                        aKeys.push(iKey);\r\n                    }\r\n                }\r\n                return oStorage;\r\n            };\r\n            this.configurable = false;\r\n            this.enumerable = true;\r\n        })());\r\n    };\r\n\r\n    /* 常量 */\r\n    // Hash路由保留地址\r\n    let hashName = {\r\n        \"#/search\": true,\r\n        \"#/more\": true,\r\n        \"#/about\": true\r\n    };\r\n    let picBaseUrl = \"https://s-sh-1943-pic1.oss.dogecdn.com\"; // 图片cdn链接\r\n    _mingyan.lazypic = \"./src/loading.svg\"; // 懒加载图片地址\r\n\r\n    /**\r\n     * 初始化\r\n     */\r\n    let ua = new Browser(); // Broswer.js初始化\r\n    let footer = $($footer).html().replace(\"999+\", mingyan.length); // 首页Footer初始化\r\n    let faceClickTime = \"\"; // 初始化头像彩蛋点击数\r\n    $($md).hide();   // 隐藏文字区域\r\n    $($search).hide();  // 隐藏搜索区域\r\n    $($footer).html(footer);  // 运用Footer\r\n    $('h1').fontFlex(30, 50, 70); // fontFlex初始化\r\n    $('h3').fontFlex(30, 50, 70);\r\n\r\n\r\n    /**\r\n     * 动态加载JS\r\n     */\r\n    function loadJs(url) {\r\n        let su = document.createElement(\"script\");\r\n        su.src = url;\r\n        let s = document.getElementsByTagName(\"script\")[0];\r\n        s.parentNode.insertBefore(su, s)\r\n    };\r\n\r\n    /**\r\n     * 控制台输出\r\n     */\r\n    let dn = 1;\r\n    let log = console.log;\r\n    function db(i) {\r\n        if (_mingyan.config.___DEBUG__) {\r\n            if (typeof i == \"string\" || typeof i == \"number\") {\r\n                log(`[ERSS名言]#${dn} -> ${i}`);\r\n                dn++;\r\n            } else {\r\n                log(`[ERSS名言]#${dn} -> `);\r\n                log(i);\r\n                dn++\r\n            };\r\n        };\r\n    };\r\n\r\n    /**\r\n     * 检测是否支持Webp\r\n     */\r\n    function isSupportWebp() {\r\n        try {\r\n            return document.createElement('canvas').toDataURL('image/webp', 0.5).indexOf('data:image/webp') === 0;\r\n        } catch (err) {\r\n            return false;\r\n        };\r\n    };\r\n\r\n    /**\r\n     * 获取url参数\r\n     * @param {String} qs 要获取的参数名\r\n     */\r\n    function qs(qs) {\r\n        let s = location.href;\r\n        s = s.replace(\"?\", \"?&\").split(\"&\");\r\n        let re = \"\";\r\n        for (let i = 1; i < s.length; i++) {\r\n            if (s[i].indexOf(qs + \"=\") == 0) {\r\n                re = s[i].replace(qs + \"=\", \"\");\r\n            };\r\n        };\r\n        return re;\r\n    };\r\n\r\n    /**\r\n     * 生成随机整数\r\n     * @param {Num} minNum 最小值\r\n     * @param {Num} maxNum 最大值\r\n     */\r\n    function randomNumber(minNum, maxNum) {\r\n        switch (arguments.length) {\r\n            case 1:\r\n                return parseInt(Math.random() * minNum + 1, 10);\r\n                break;\r\n            case 2:\r\n                return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);\r\n                break;\r\n            default:\r\n                return 0;\r\n                break;\r\n        };\r\n    };\r\n    /* 彩蛋系统 */\r\n\r\n    /* 图片彩蛋 */\r\n    /**\r\n     * 图片彩蛋\r\n     * @param {String} my 完整名言\r\n     */\r\n    _mingyan.checkPic = function (my) {\r\n        let name = my.split(\"：\")[0];\r\n        if (my.split(\"：\").length == 2) {\r\n            var my_out = my.split(\"：\")[1];\r\n            db(my_out);\r\n        } else if (my.split(\"：\").length == 3) {\r\n            var my_out = my.split(\"：\")[1] + \"：\" + my.split(\"：\")[2];\r\n            db(my_out);\r\n        };\r\n        let special = `onclick=\"_mingyan.onMingyanClick()\"`;\r\n        if (my_out == \"解\" || mingyanPicUrl[my_out] != undefined) {\r\n            if (my_out == \"解\") {\r\n                var pic = solvePicUrl[name];\r\n            } else if (mingyanPicUrl[my_out] != undefined) {\r\n                var pic = mingyanPicUrl[my_out];\r\n            };\r\n            // 支持WEBP格式\r\n            if (isSupportWebp()) {\r\n                var pic = pic + \"/webp\"\r\n            };\r\n            _mingyan.checkPicForMobie();\r\n            lazyload();\r\n            return `<div id=\"my_text\" ${special}>${my_out}</div><div id=\"my_pic\">\r\n                            <img src=\"${_mingyan.lazypic}\" data-src=\"${picBaseUrl}${pic}\" data-pic-id=${my_out} class=\"mypic lazyload mdui-hoverable mdui-img-rounded fancybox\" data-fancybox-group=\"ERSS_mingyan_pic\"></img>\r\n                        </div>`;\r\n            // return my + \"<\\/br><img src=\\\"\" + _mingyan.lazypic + \"\\\" data-src=\\\"\" + pic + \"\\\" class=\\\"mypic lazyload mdui-hoverable mdui-img-rounded fancybox\\\" data-fancybox-group=\\\"ERSS_mingyan_pic\\\"\" + special + \"><\\/img>\"\r\n        } else {\r\n            lazyload();\r\n            return `<div id=\"my_text\" ${special}>${my_out}</div>`;\r\n        };\r\n    };\r\n    /**\r\n     * 新旧数据格式替换\r\n     */\r\n    let reloadTime = 0;\r\n    if (localStorage.getItem(\"reload-time\")) {\r\n        localStorage.setItem(\"___mingyan_reload_time__\", localStorage.getItem(\"reload-time\"))\r\n        localStorage.removeItem(\"reload-time\")\r\n    };\r\n    if (localStorage.getItem(\"___mingyan_reload_time__\")) {\r\n        reloadTime = localStorage.getItem(\"___mingyan_reload_time__\")\r\n    };\r\n\r\n    /**\r\n     * 刷新彩蛋\r\n     */\r\n    _mingyan.addReloadTime = function () {\r\n        reloadTime++;\r\n        localStorage.setItem(\"___mingyan_reload_time__\", reloadTime);\r\n        db(reloadTime);\r\n        let title = \"获得成就\", text;\r\n        switch (reloadTime) {\r\n            case 10:\r\n                text = \"点击 100 次有惊喜\";\r\n                break;\r\n            case 100:\r\n                text = \"点击 500 次有惊喜\";\r\n                break;\r\n            case 500:\r\n                text = \"点击 1000 次有惊喜，\\n很大的惊喜哦！\";\r\n                break;\r\n            case 1000:\r\n                text = \"点击 10000 次有惊喜，\\n你都到这一步了，干嘛不看看后面的惊喜呢？\";\r\n                break;\r\n            case 10000:\r\n                text = \"你好无聊啊……\";\r\n                break;\r\n            default:\r\n                text = \"\";\r\n        };\r\n        // 弹窗\r\n        if (text) {\r\n            swal({\r\n                title: title,\r\n                text: text,\r\n                icon: \"success\",\r\n                button: \"关闭\",\r\n                closeOnClickOutside: false\r\n            });\r\n        };\r\n    };\r\n\r\n    /* 三人头像彩蛋 */\r\n    /**\r\n     * 三人头像点击量\r\n     * @param {String} i 名字\r\n     */\r\n    _mingyan.checkFaceClickTime = function (i) {\r\n        if (i == \"xhemj\") {\r\n            faceClickTime += \"1\"\r\n        };\r\n        if (i == \"BlackToy\") {\r\n            faceClickTime += \"2\"\r\n        };\r\n        if (i == \"Oranjezelv\") {\r\n            faceClickTime += \"3\"\r\n        };\r\n        db(faceClickTime);\r\n        // 如果三人都点了一下\r\n        if (faceClickTime.indexOf(\"1\") != -1 && faceClickTime.indexOf(\"2\") != -1 && faceClickTime.indexOf(\"3\") != -1) {\r\n            swal({\r\n                title: \"获得成就\",\r\n                text: \"彩蛋还没做好~~\",\r\n                icon: \"info\",\r\n                button: \"关闭\",\r\n                closeOnClickOutside: false\r\n            });\r\n            faceClickTime = \"\";\r\n        };\r\n    };\r\n\r\n    /**\r\n     * 文字彩蛋\r\n     */\r\n    _mingyan.onMingyanClick = function () {\r\n        if ($(\"#mingyan\").text().indexOf(\"绿帽子\") != -1) {\r\n            swal({\r\n                title: \"Fuck ♂ You ♂\",\r\n                text: \"骚骚恪曾经说过：Fuck ♂ You ♂\",\r\n                icon: \"\",\r\n                button: \"关闭\",\r\n                closeOnClickOutside: false\r\n            });\r\n        };\r\n        if ($(\"#mingyan\").text().indexOf(\"垃圾真好吃\") != -1) {\r\n            swal({\r\n                title: \"获得成就\",\r\n                text: \"最美垃圾人\",\r\n                icon: \"success\",\r\n                button: \"关闭\",\r\n                closeOnClickOutside: false\r\n            });\r\n        };\r\n        if ($(\"#mingyan\").text().indexOf(\"来一起唱啊！！\") != -1) {\r\n            swal({\r\n                title: \"获得成就\",\r\n                text: \"Shape OF You！\",\r\n                icon: \"success\",\r\n                button: \"关闭\",\r\n                closeOnClickOutside: false\r\n            });\r\n            // 音乐惊喜\r\n            var ap = new APlayer({\r\n                container: document.getElementById('player'),\r\n                fixed: true,\r\n                lrcType: 3,\r\n                audio: [{\r\n                    name: 'Shape of You',\r\n                    artist: 'Ed Sheeran',\r\n                    url: 'https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FEd%20Sheeran%20-%20Shape%20of%20You.mp3',\r\n                    cover: 'https://i.loli.net/2020/12/19/L1NY8U7nhRjyQMa.jpg',\r\n                    lrc: 'https://s-sh-1943-pic1.oss.dogecdn.com/static%2Fmingyan-js-org%2FShape%20of%20You.lrc'\r\n                }]\r\n            });\r\n            // 调整字幕位置\r\n            $(\".aplayer .aplayer-lrc\").css(\"transform\", \"translateY(-55px)\");\r\n            ap.play();\r\n        };\r\n    };\r\n\r\n    /**\r\n     *  文字彩蛋\r\n     * @param {String} my 完整名言\r\n     */\r\n    _mingyan.checkText = function (my) {\r\n        my = my.split(\"：\")[1];\r\n        if (specialVerbList[my] != undefined) {\r\n            let text = specialVerbList[my];\r\n            return text\r\n        } else {\r\n            return \"曾经说过\"\r\n        };\r\n    };\r\n\r\n    /* 打印功能 */\r\n    _mingyan.print = function () {\r\n        _mingyan.showAll();\r\n        let oldstr = $(\"body\").html();\r\n        let headstr = \"<title>名言 | ERSS</title>\";\r\n        let footstr = \"</body></html>\";\r\n        $(\"#searchbar\").hide();\r\n        let printData = document.getElementById(\"showall\").innerHTML.replace(/<a /g, \"<span \").replace(/<\\/a>/g, \"<\\/span>\");\r\n        let wind = window.open(\"\", \"\", \"toolbar=no,scrollbars=yes,menubar=no\");\r\n        wind.document.body.innerHTML = headstr + document.head.innerHTML + printData + footstr;\r\n        wind.print();\r\n        $(\"#searchbar\").show();\r\n        wind.close();\r\n        window.document.body.innerHTML = oldstr;\r\n        location.reload();\r\n    };\r\n\r\n\r\n    /* 分享功能（现已废弃） */\r\n    /**\r\n     * 名言分享链接计算\r\n     * @param {String} name 老师或学生的名字\r\n     * @param {String} my 名言\r\n     */\r\n    _mingyan.encodeMingyan = function (name, my) {\r\n        db(name);\r\n        db(my);\r\n        return md5(\"1\" + md5(encodeURI(name + \"||\" + my + \"ERSS MINGYAN (c) xhemj\")))\r\n    };\r\n\r\n    /**\r\n     * 名言分享链接解密\r\n     * @param {String} id 传入的分享ID\r\n     */\r\n    _mingyan.decodeMingyan = function (id) {\r\n        for (let i = 0; i < mingyan.length; i++) {\r\n            let name = mingyan[i].split(\"：\")[0];\r\n            db(name)\r\n            let my = mingyan[i].split(\"：\")[1];\r\n            db(my)\r\n            if (id == _mingyan.encodeMingyan(name, my)) {\r\n                db(\"encode:\" + id);\r\n                db(i);\r\n                return i\r\n            } else {\r\n                db(\"no\")\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 分享的主函数\r\n     */\r\n    _mingyan.share = function () {\r\n        let name = $(\"#name\").text();\r\n        let my = $(\"#mingyan\").text().replace(/\\s*/g, \"\");\r\n        swal({\r\n            title: \"分享当前名言\",\r\n            text: \"请手动复制下面的链接，把他发给别人吧\",\r\n            icon: \"info\",\r\n            content: {\r\n                element: \"input\",\r\n                attributes: {\r\n                    placeholder: \"加载出错了？刷新试试吧\",\r\n                    value: location.protocol + \"//\" + location.host + \"/\" + _mingyan.encodeMingyan(name, my),\r\n                    type: \"text\"\r\n                }\r\n            }\r\n        });\r\n        $(\".swal-content__input\").attr(\"value\", location.protocol + \"//\" + location.host + \"/\" + _mingyan.encodeMingyan(name, my)); // 显示分享链接\r\n        $(\".swal-content__input\").attr(\"onclick\", \"this.select()\");\r\n        $(\".swal-content__input\").select();\r\n    };\r\n\r\n\r\n    /* 下载功能 */\r\n    _mingyan.download = function () {\r\n        let blob = new Blob([mingyan.join(\"\\n\")], { type: \"text/plain;charset=utf-8\" });\r\n        saveAs(blob, \"名言列表（\" + _mingyan.version + \"）\");\r\n    };\r\n    /* 已使用FileSaver.js替代 - 2020-11-28\r\n    _mingyan.dfile = function (fileName, content) {\r\n        const aTag = document.createElement('a');\r\n        const blob = new Blob([content]);\r\n        aTag.download = fileName;\r\n        aTag.style = \"display: none\";\r\n        aTag.href = URL.createObjectURL(blob);\r\n        document.body.appendChild(aTag);\r\n        aTag.click();\r\n        setTimeout(function () {\r\n            document.body.removeChild(aTag);\r\n            window.URL.revokeObjectURL(blob);\r\n        }, 100);\r\n    };*/\r\n\r\n\r\n    /* 主功能：名言显示 */\r\n    let skipCheckHash = false; // 看是否不检查hash值\r\n    /**\r\n     * 名言显示主函数\r\n     * @param {Num} id 名言ID（可不传入）\r\n     */\r\n    _mingyan.show = function (id) {\r\n        // 加载Fancybox插件\r\n        initfancybox();\r\n        try {\r\n            // 先隐藏其它元素\r\n            $($md).hide();\r\n            $($main).hide();\r\n            if (mingyan.length != 0) {\r\n                db(\"加载名言列表成功\");\r\n                if (!id) {\r\n                    if (qs(\"id\") != \"\") { // 如果有传入?id=xx就用传入的ID\r\n                        var n = qs(\"id\");\r\n                    } else if (location.hash != \"\" && hashName[location.hash] != true /* 排除保留的hash路由地址 */) { // 如果有传入hash就用hash传入的ID\r\n                        var n = location.hash.replace(\"#\", \"\");\r\n                        db(\"n=\" + n);\r\n                    } else if (localStorage.getItem(\"___mingyan_id__\")) {\r\n                        var n = localStorage.getItem(\"___mingyan_id__\") // 如果有储存上一次看到哪一条就用这个id\r\n                    } else {\r\n                        var n = randomNumber(0, mingyan.length - 1); // 否则就随机生成\r\n                    };\r\n                } else {\r\n                    var n = id; // 若有从函数传入id就用这个\r\n                };\r\n                if (hashName[location.hash] == true) return; // 若有触发hash路由的地址就返回\r\n                // hash路由\r\n                skipCheckHash = true;\r\n                location.hash = \"#\" + n;\r\n                skipCheckHash = false; // 再调回来\r\n                // 储存看到哪一条下一次继续\r\n                localStorage.setItem(\"___mingyan_id__\", n);\r\n                let name = mingyan[n].split(\"：\")[0];\r\n                db(name);\r\n                if (mingyan[n].split(\"：\").length == 2) {\r\n                    var my = mingyan[n].split(\"：\")[1];\r\n                    db(my);\r\n                } else if (mingyan[n].split(\"：\").length == 3) { // 防止名言中有“：”\r\n                    var my = mingyan[n].split(\"：\")[1] + \"：\" + mingyan[n].split(\"：\")[2];\r\n                    db(my);\r\n                };\r\n                db(\"已选取第\" + n + \"条名言：\" + my);\r\n                _hmt.push(['_trackEvent', \"名言\", \"查看\", \"自动\", name + \"：\" + my]);\r\n                // 查看和分享（已废弃 2021-01-24）\r\n                $(\"p#info\").html(\r\n                    `<div class=\"info-text\">\r\n                    <a href=\"#${n}\" class=\"label label-rounded label-warning\">#${n}</a>&nbsp;\r\n                    <!-- <a href=\"javascript:;\" onclick=\"_mingyan.share()\" class=\"label label-rounded label-warning\">\r\n                    <i class=\"mdui-icon material-icons\" style=\"font-size: 15px;\">share</i>分享</a> -->\r\n                    </br><a style=\"color:#9B4DC9\" id=\"reload\" href=\"#${randomNumber(0, mingyan.length - 1)}\" onclick=\"_mingyan.addReloadTime();_hmt.push(['_trackEvent', '名言', '刷新', '手动' , '点击查看更多名言']);\" >点击</a>查看更多名言</div>`\r\n                );\r\n                $(\"span#mingyan\").html(_mingyan.checkPic(name + \"：\" + my)); // 若有触发图片彩蛋就显示彩蛋\r\n                let verb = _mingyan.checkText(name + \"：\" + my);  // 若有触发文字彩蛋就显示彩蛋\r\n                $(\"span#name\").text(name);\r\n                $(\"span#verb\").html(verb);\r\n                $($main).fadeIn();\r\n                if ($(\"#mingyan\").text().indexOf(\"来一起唱啊！！\") != -1) { // 若有触发音乐彩蛋就加载播放器\r\n                    loadJs(\"https://cdn.jsdelivr.net/npm/aplayer@1.10.0/dist/APlayer.min.js\");\r\n                };\r\n                let title = \"名言 | \" + my;\r\n                document.title = title;\r\n                let description = name + verb + \"：\" + my;\r\n                $('meta[name=\"description\"]').attr(\"content\", description);\r\n                $('meta[property=\"og:description\"]').attr('content', description);\r\n                $('meta[name=\"og:description\"]').attr('content', description);\r\n                $('meta[property=\"og:title\"]').attr('content', title);\r\n                $('meta[name=\"og:title\"]').attr('content', title);\r\n                lazyload(); // 图片懒加载\r\n            } else {\r\n                return false\r\n            };\r\n        } catch (err) {\r\n            console.error(\"名言加载失败\");\r\n            $(\"#mingyan\").text(\"名言加载失败\");\r\n            $($myInfo).html(\"错误信息：</br>\" + err + \"</br>建议：<a href=\\\"javascript:_mingyan.reload()\\\">点我刷新页面</a>\");\r\n            $($main).fadeIn();\r\n            $($myInfo).fadeIn();\r\n            throw new Error(err);\r\n            //location.href = \"http://\" + location.hostname + \":\" + location.port + location.pathname;\r\n        };\r\n    };\r\n\r\n\r\n    /**\r\n     * 修复搜索框长度\r\n     */\r\n    if (ua.device != 'Mobile') {\r\n        var inputbar_width = \"60%\";\r\n    } else {\r\n        var inputbar_width = \"auto\";\r\n        $($main).css(\"transform\", \"translateY(30%)\");\r\n    };\r\n\r\n    /**\r\n     * 修复手机端名言文字位置\r\n     */\r\n    _mingyan.checkTextForMobie = function () {\r\n        // 针对手机进行位置调整\r\n        if (ua.device != 'Mobile') {\r\n            $($main).css(\"transform\", \"translateY(15%)\");\r\n        } else {\r\n            $($main).css(\"transform\", \"translateY(30%)\");\r\n            $($md).css(\"transform\", \"translateY(50px)\");\r\n        };\r\n    };\r\n    _mingyan.checkTextForMobie();\r\n\r\n    /**\r\n     * 修复手机端图片彩蛋位置\r\n     */\r\n    _mingyan.checkPicForMobie = function () {\r\n        if (ua.device == 'Mobile') {\r\n            $($main).css(\"transform\", \"translateY(15%)\");\r\n        } else {\r\n            $($main).css(\"transform\", \"translateY(10%)\");\r\n        };\r\n        lazyload();\r\n    };\r\n\r\n    /**\r\n     * 刷新名言\r\n     */\r\n    _mingyan.reload = function () {\r\n        // 已废弃（2021-01-24）\r\n        // history.pushState({}, \"名言 | ERSS\", \"/\");\r\n        // if (location.hash != \"\") {\r\n        //     location.href = \"//\" + location.hostname + \":\" + location.port + location.pathname;\r\n        // } else if (qs(\"id\") != \"\" || qs(\"mail\") != \"\") {\r\n        //     location.href = \"//\" + location.hostname + \":\" + location.port + location.pathname;\r\n        // } else {\r\n        //     _mingyan.show();\r\n        // };\r\n        // lazyload();\r\n        if ($(\"#reload\").attr(\"href\")) {\r\n            location.hash = \"#\" + $(\"#reload\").attr(\"href\").split(\"#\")[1];\r\n        } else {\r\n            location.hash = \"#\" + randomNumber(0, mingyan.length - 1);\r\n        };\r\n    };\r\n\r\n\r\n    /**\r\n     * 隐藏搜索列表和文字区域\r\n     */\r\n    _mingyan.hideElement = function () {\r\n        $($md).hide();\r\n        $($search).hide();\r\n        $($main).fadeIn();\r\n        $($footer).html(footer);\r\n    };\r\n\r\n    /**\r\n     * 隐藏主区域\r\n     */\r\n    _mingyan.hideMain = function () {\r\n        $($main).hide();\r\n    };\r\n\r\n    /**\r\n     * 显示搜索列表\r\n     * 为什么叫_mingyan.showAll我也不知道\r\n     */\r\n    _mingyan.showAll = function () {\r\n        //location.hash = \"#/search\";\r\n        $($md).hide();\r\n        $($main).hide();\r\n        $(\"input#searchbar\").val(\"\");\r\n        // 搜索框\r\n        let showall = `<input style=\"${inputbar_width}\" onclick=\"this.select()\" type=\"search\" id=\"searchbar\" placeholder=\"搜索……\" results=\"5\"></input>\r\n        </br></br><span class=\"e\"></span>`;\r\n        for (let i = 0; i < mingyan.length; i++) {\r\n            // 默认列出全部名言\r\n            showall += `<div><a style=\"color:black\" id=\"showall_item\" class=\"${i}\" href=\"#${i}\" onclick=\"_mingyan.hideElement()\">${mingyan[i]}</a></div>`;\r\n        };\r\n        showall += \"</br></br></br>\"; // 加换行比较好看\r\n        $($search).html(showall);\r\n        $($search).fadeIn();\r\n        $($footer).html(`当前名言数量：${mingyan.length}</br><a class=\"aline\" href=\"javascript:;\" onclick=\"_mingyan.clearHash()\">返回</a>`);\r\n        _mingyan.initLogo();\r\n        $(\"#searchbar\").focus();\r\n    };\r\n\r\n\r\n    /**\r\n     * Markdown转成网页\r\n     * @param {String} id 要放的元素id\r\n     * @param {String} url Markdown地址\r\n     */\r\n    _mingyan.mdToHtml = function (id, url) {\r\n        $($md).hide();\r\n        $($main).hide();\r\n        $($search).hide();\r\n        $(id).html(\"<strong>\" + `<div style=\"text-align: center\" class=\"mdui-ripple\"><style>h1{font-size:30px}</style><h1>加载中……</h1></div></strong></br></br></br></br>`);\r\n        _.get(url, function (data) { // 获取文件\r\n            marked.setOptions({\r\n                breaks: true\r\n            });\r\n            let html = marked(data); // 使用mark.js转换\r\n            html = html.replace(/<a /g, \"<a target=\\\"_blank\\\" \"); // 外链新页面打开\r\n            $(id).html(\"<strong>\" + html + \"</strong></br></br></br></br>\");  // 加换行比较好看\r\n            $(id).fadeIn();\r\n        });\r\n        $($footer).html(\"当前名言数量：\" + mingyan.length + \"</br><a class=\\\"aline\\\" href=javascript:; onclick=\\\"_mingyan.clearHash()\\\">返回<\\/a>\"); // 更改footer\r\n        _mingyan.initLogo();\r\n        $($md).fadeIn();\r\n    };\r\n\r\n\r\n    /**\r\n     * 更多页面\r\n     */\r\n    _mingyan.more = function () {\r\n        _mingyan.mdToHtml($md, \"./src/md/more.md?t=\" + _mingyan.config.___date_version___);\r\n        //location.hash = \"#/more\";\r\n    }\r\n    /**\r\n     * 关于页面\r\n     */\r\n    _mingyan.about = function () {\r\n        _mingyan.mdToHtml($md, \"./src/md/about.md?t=\" + _mingyan.config.___date_version___);\r\n        //location.hash = \"#/about\";\r\n    };\r\n\r\n\r\n    /**\r\n     * Markdown名言列表\r\n     */\r\n    _mingyan.showAllMingyan = function () {\r\n        $($md).hide();\r\n        $($main).hide();\r\n        $($search).hide();\r\n        let out = ``;\r\n        for (let i = 0; i < mingyan.length; i++) {\r\n            out += mingyan[i] + \"</br>\"\r\n        };\r\n        out += `</br></br></br></br>`;\r\n        $($md).html(marked(out));\r\n        $($md).fadeIn()\r\n    }\r\n\r\n\r\n    /*function time(i) { 已废弃 2021-01-24\r\n        let a = i;\r\n        a = a.split(\"T\");\r\n        let time = a[1];\r\n        time = time.split(\":\");\r\n        let h = time[0] * 1 + 8;\r\n        let min = time[1];\r\n        let s = time[2].split(\"Z\")[0];\r\n        let ut = a[0] + \" \" + h + \":\" + min + \":\" + s;\r\n        return ut;\r\n    };\r\n    _.get(\"https://api.github.com/repos/xhemj/mingyan/commits?page=1&per_page=1000\", function (data) {\r\n        for (let i = 0; i < data.length; i++) {\r\n            db(time(data[i][\"commit\"][\"committer\"][\"date\"]) + \" \" + data[i][\"commit\"][\"message\"])\r\n        }\r\n    });\r\n    _.get(\"https://api.github.com/repos/xhemj/mingyan/commits?page=2&per_page=1000\", function (data) {\r\n        for (let i = 0; i < data.length; i++) {\r\n            db(time(data[i][\"commit\"][\"committer\"][\"date\"]) + \" \" + data[i][\"commit\"][\"message\"])\r\n        }\r\n    });* /\r\n \r\n    /**\r\n     * 统计各位老师有几条名言\r\n     */\r\n    _mingyan.tongji = function () {\r\n        $($md).hide();\r\n        $($main).hide();\r\n        $($search).hide();\r\n        let o = \"\";\r\n        for (let i = 0; i < mingyan.length; i++) {\r\n            try {\r\n                let a1 = mingyan[i].split(\"：\")[0];\r\n                let a2 = mingyan[i + 1].split(\"：\")[0];\r\n            } catch (e) { }\r\n            db(a1 + \"-\" + a2);\r\n            if (a1 == a2) {\r\n                o += a1\r\n            } else {\r\n                o += a2\r\n            };\r\n        };\r\n        //db(out);\r\n        let count = [ // 匹配写了好久\r\n            \"数学老王：\" + o.match(/老王/g).length,\r\n            \"英语老俞：\" + o.match(/老俞/g).length,\r\n            \"数学潘哥：\" + o.match(/潘哥/g).length,\r\n            \"语文老朱：\" + o.match(/老朱/g).length,\r\n            \"物理刘老师：\" + o.match(/物理刘老师/g).length,\r\n            \"物理王老师：\" + o.match(/物理王老师/g).length,\r\n            \"地理吴老师：\" + o.match(/地理吴老师/g).length,\r\n            \"地理朱老师：\" + o.match(/地理朱老师/g).length,\r\n            \"政治王老师：\" + o.match(/政治王老师/g).length,\r\n            \"化学吴老师：\" + o.match(/化学吴老师/g).length,\r\n            \"历史李老师：\" + o.match(/历史李老师/g).length,\r\n            \"美术林老师：\" + o.match(/美术林老师/g).length,\r\n            \"体育吴老师：\" + o.match(/体育吴老师/g).length,\r\n            \"体育俞老师：\" + o.match(/体育俞老师/g).length,\r\n            \"生物吴老师：\" + o.match(/生物吴老师/g).length\r\n        ];\r\n        //window.count = count;\r\n        //db(count);\r\n        let out = \"\";\r\n        out += count.join(\" 句</br>\") + \" 句</br></br></br></br>\";\r\n        $($md).html(marked(out));\r\n        $($md).fadeIn()\r\n    };\r\n\r\n\r\n    /**\r\n     * 搜索主函数\r\n     */\r\n    _mingyan.search = function () {\r\n        if ($(\"#searchbar\").is(\":focus\") || qs(\"q\") != \"\") { // 若有点击搜索框或有传入?q=\r\n            if ($(\"input#searchbar\").val()) { // 若搜索框内有文字\r\n                switch ($(\"input#searchbar\").val()) {\r\n                    // 若输入::auto_reload，则进入自动刷新模式\r\n                    case \"::auto_reload\":\r\n                        location.href = \"./?force_action=auto_reload\";\r\n                        break;\r\n                    default:\r\n                        let now1 = $(\"input#searchbar\").val();\r\n                        let now2 = $(\"input#searchbar\").val();\r\n                        if (now1 == now2) { // 若停止输入\r\n                            $(\"a#showall_item\").each(function () {\r\n                                if ($(this).text().indexOf($(\"input#searchbar\").val()) != -1) {\r\n                                    let reg = \"/\" + $(\"input#searchbar\").val() + \"/g\"; // 拼接正规表达式\r\n                                    $(this).html($(this).text().replace(eval(reg), `<span class=\"label label-secondary\">${$(\"input#searchbar\").val()}</span>`)); // 关键词加颜色凸显\r\n                                    $(this).show();\r\n                                } else {\r\n                                    $(this).hide();\r\n                                }\r\n                            });\r\n                            $(\".e\").hide(); // “无结果”隐藏\r\n                        }\r\n                }\r\n\r\n            } else {\r\n                // 否则把高亮的取消\r\n                $(\"a#showall_item\").show();\r\n                $(\"a#showall_item\").each(function () {\r\n                    $(this).html($(this).html().replace(\"<span class=\\\"label label-secondary\\\">\", \"\"));\r\n                    $(this).html($(this).html().replace(\"</span>\", \"\"));\r\n                })\r\n            }\r\n        }\r\n        // 若无结果\r\n        if ($($search)[0][\"innerText\"].match(/^\\s*$/) != null) {\r\n            $(\".e\").text(\"无结果\");\r\n            $(\".e\").show();\r\n        } else {\r\n            // 否则隐藏“无结果”\r\n            if ($(\"#searchbar\").is(\":focus\")) {\r\n                $(\".e\").hide();\r\n            }\r\n        }\r\n    };\r\n    // 没100ms执行一次\r\n    let search = setInterval(_mingyan.search, 100);\r\n\r\n    /**\r\n     * 邮箱 （已废弃 2020-11-28）\r\n     */\r\n    if (qs(\"mail\")) {\r\n        window.open(\"mailto:\" + qs(\"mail\").replace(\"---\", \"@\"));\r\n        _mingyan.reload()\r\n    };\r\n\r\n    /**\r\n     * 标题变化\r\n     */\r\n    let title = '名言 | ERSS';\r\n    let titleTime;\r\n    document.addEventListener('visibilitychange', function () {\r\n        if (document.hidden) {\r\n            document.title = '名言 | 来看名言呀！';\r\n            clearTimeout(titleTime);\r\n        }\r\n        else {\r\n            document.title = title;\r\n        }\r\n    });\r\n\r\n    /**\r\n     * 2021!!!\r\n     * 排行榜系统\r\n     * 2020/12/31\r\n     */\r\n    // 初始化tcb\r\n    const app = cloudbase.init({\r\n        env: \"xhemj-0gjckebwf7276129\"\r\n    });\r\n    // 匿名登录\r\n    const auth = app.auth();\r\n    async function login() {\r\n        await auth.anonymousAuthProvider().signIn();\r\n        const loginState = await auth.getLoginState();\r\n        db(\"登陆成功\");\r\n        db(loginState);\r\n    };\r\n    login();\r\n    // 基础函数\r\n    _mingyan.rankingApi = {\r\n        // 添加\r\n        add: function (name, ip) {\r\n            return new Promise(function (resolve, reject) {\r\n                app\r\n                    .callFunction({\r\n                        name: \"mingyan\",\r\n                        data: {\r\n                            event: \"add\",\r\n                            name: name.toString(),\r\n                            ip: ip,\r\n                            ua: navigator.userAgent.toString() || \"\"\r\n                        }\r\n                    })\r\n                    .then((res) => {\r\n                        db(\"添加成功\");\r\n                        db(res);\r\n                        resolve(res);\r\n                    })\r\n                    .catch(function (e) {\r\n                        reject(e)\r\n                    })\r\n            })\r\n        },\r\n        // 更新呢\r\n        update: function (id, name) {\r\n            return new Promise(function (resolve, reject) {\r\n                app\r\n                    .callFunction({\r\n                        name: \"mingyan\",\r\n                        data: {\r\n                            event: \"update\",\r\n                            id: id,\r\n                            data: {\r\n                                \"name\": name\r\n                            },\r\n                        }\r\n                    })\r\n                    .then((res) => {\r\n                        db(\"获取成功\");\r\n                        db(res);\r\n                        resolve(res);\r\n                    })\r\n                    .catch(function (e) {\r\n                        reject(e)\r\n                    });\r\n            })\r\n\r\n        },\r\n        // 获取IP\r\n        getIp: function () {\r\n            return new Promise(function (resolve, reject) {\r\n                $.getJSON(\"https://ip.xhemj.now.sh/api/ip\",\r\n                    function (json) {\r\n                        db(\"获取成功\");\r\n                        let res = {\r\n                            \"ip\": json.ip\r\n                        };\r\n                        resolve(res);\r\n                    }).catch(function (e) {\r\n                        reject(e)\r\n                    });\r\n            })\r\n        },\r\n        //获取当前排名人数\r\n        getNum: function () {\r\n            return new Promise(function (resolve, reject) {\r\n                app\r\n                    .callFunction({\r\n                        name: \"mingyan\",\r\n                        data: {\r\n                            event: \"getnum\"\r\n                        }\r\n                    })\r\n                    .then((res) => {\r\n                        db(\"获取成功\");\r\n                        db(res);\r\n                        resolve(res);\r\n                    })\r\n                    .catch(function (e) {\r\n                        reject(e)\r\n                    });\r\n\r\n            })\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 2021彩蛋主函数\r\n     */\r\n    _mingyan.ranking = function () {\r\n        if (new Date().getTime() >= 1609430400000 /* 2021-01-01 00:00:00 */ && navigator.userAgent.toString().indexOf(\"bot\") == -1 && navigator.userAgent.toString().indexOf(\"spider\") == -1 /* 防止搜索引擎激活 */) { // 如果到了2021年\r\n            _mingyan.rankingApi.getIp() // 先来一个ip看看\r\n                .then(function (ip_data) {\r\n                    db(ip_data.ip);\r\n                    let ip = ip_data.ip;\r\n                    if (!localStorage.getItem(\"___mingyan_2021_ranking_data__\")) { // 如果没有存过数据\r\n                        db(\"新用户\");\r\n                        localStorage.setItem(\"___mingyan_2021_ranking_data__\", `__${ip}__`);  // 那就存一个吧\r\n                        _mingyan.rankingApi.add(\"一位不知道名字的访客\", ip) // 默认给一个名字\r\n                            .then(function (add_data) {\r\n                                localStorage.setItem(\"___mingyan_2021_ranking_data__\", `__${ip}__`);  // 不知道为什么要再存一遍，但不想删了\r\n                                let id = add_data.result.res.id; // 留id以便于之后更新名字\r\n                                _mingyan.rankingApi.getNum()\r\n                                    .then(function (num_data) { // 获取当前排名\r\n                                        let num = num_data[\"result\"][\"res1\"][\"data\"][0][\"num\"];\r\n                                        // 弹窗\r\n                                        swal({\r\n                                            title: `第${num}个人！！`,\r\n                                            text: `恭喜你成为2021年第${num}个查看名言的人！！`, // 解决了！！（2021-01-26）\r\n                                            icon: \"success\",\r\n                                            content: {\r\n                                                element: \"input\",\r\n                                                attributes: {\r\n                                                    placeholder: \"写个名字记录一下你是谁吧！\",\r\n                                                    type: \"text\"\r\n                                                }\r\n                                            },\r\n                                            closeOnClickOutside: false\r\n                                        })\r\n                                            .then(name => {\r\n                                                if (name) { // 之后就是更新名字啦！\r\n                                                    _mingyan.rankingApi.update(id, name)\r\n                                                        .then(function (update_data) {\r\n                                                            db(update_data);\r\n                                                        })\r\n                                                        // 这么多catch？\r\n                                                        .catch(function (e) {\r\n                                                            console.error(e)\r\n                                                        });\r\n                                                    location.href = \"./\";\r\n                                                };\r\n                                            })\r\n                                    })\r\n                                    .catch(function (e) {\r\n                                        console.error(e)\r\n                                    });\r\n                            })\r\n                            .catch(function (e) {\r\n                                console.error(e)\r\n                            });\r\n                    }\r\n                })\r\n                .catch(function (e) {\r\n                    console.error(e)\r\n                });\r\n        }\r\n\r\n    };\r\n\r\n    /**\r\n     * 图片水印\r\n     */\r\n    _mingyan.initLogo = function () {\r\n        let iswebp = \"png\";\r\n        if (isSupportWebp()) {\r\n            iswebp = \"png/webp\"\r\n        };\r\n        $($footer).append(`<div id=\"logo\"><div>`);\r\n        $(\"#logo\").html(`<img src=\"https://s-sh-1943-pic1.oss.dogecdn.com/2021/01/30/1PZ2sFjUd8EfLT6.${iswebp}\" alt=\"IYAMAYA工作室\" title=\"IYAMAYA工作室\"></img>`);\r\n        if (ua.device != 'Mobile') {\r\n            $(\"#logo\").css({\r\n                \"position\": \"absolute\",\r\n                \"bottom\": \"50px\",\r\n                \"right\": \"0px\",\r\n                \"width\": \"150px\"\r\n            });\r\n        } else {\r\n            $(\"#logo\").css({\r\n                \"position\": \"absolute\",\r\n                \"bottom\": \"50px\",\r\n                \"right\": \"0px\",\r\n                \"width\": \"120px\"\r\n            });\r\n        };\r\n    };\r\n    _mingyan.initLogo();\r\n\r\n    /**\r\n     * hash路由主函数\r\n     */\r\n    _mingyan.onHashChange = function () {\r\n        initfancybox();\r\n        _mingyan.checkTextForMobie();\r\n        _mingyan.initLogo();\r\n        if (hashName[location.hash] == true) { // 如果在hash保留路径中\r\n            switch (location.hash) {\r\n                case \"#/about\":\r\n                    location.pathname = \"/\"\r\n                    _mingyan.hideElement();\r\n                    _mingyan.hideMain();\r\n                    _mingyan.about();\r\n                    $(\"#logo\").css(\"opacity\", 0.5); // 设置右小角小人透明度\r\n                    break;\r\n                case \"#/search\":\r\n                    location.pathname = \"/\"\r\n                    _mingyan.hideElement();\r\n                    _mingyan.hideMain();\r\n                    _mingyan.showAll();\r\n                    $(\"#logo\").css(\"opacity\", 0.5);\r\n                    break;\r\n                case \"#/more\":\r\n                    location.pathname = \"/\"\r\n                    _mingyan.hideElement();\r\n                    _mingyan.hideMain();\r\n                    _mingyan.more();\r\n                    $(\"#logo\").css(\"opacity\", 0.5);\r\n                    break;\r\n                default:\r\n                    break;\r\n            };\r\n        } else if (location.hash.split(\"#\").length > 1 && !skipCheckHash) { // 否则就显示名言\r\n            _mingyan.show(location.hash.split(\"#\")[1])\r\n        };\r\n    };\r\n    _mingyan.onHashChange();\r\n    window.addEventListener(\"hashchange\", _mingyan.onHashChange);\r\n\r\n    /**\r\n     * 旧版historypush路由 已废弃 2021-01-24\r\n     */\r\n    switch (location.pathname) {\r\n        case \"/about\":\r\n            location.hash = \"#/about\"\r\n            break;\r\n        case \"/search\":\r\n            location.hash = \"#/search\"\r\n            break;\r\n        case \"/more\":\r\n            location.hash = \"#/more\"\r\n            break;\r\n        case \"/index.html\":\r\n        case \"/\":\r\n            $(document).ready(function () {\r\n                _mingyan.show();\r\n            });\r\n            if (qs(\"force_action\") == \"2020\" || !localStorage.getItem(\"___mingyan_2021_ranking_data__\")) { // 如果是新用户\r\n                _mingyan.ranking();\r\n            };\r\n            switch (qs(\"force_action\") || qs(\"do\")) {\r\n                case \"clear_save\":\r\n                    localStorage.removeItem(\"___mingyan_2021_ranking_data__\");\r\n                    break;\r\n                case \"auto_reload\":\r\n                    // 自动刷新名言\r\n                    setInterval(function () {\r\n                        _mingyan.show()\r\n                    }, 3000);\r\n                    break;\r\n            };\r\n            break;\r\n        default:\r\n            // 也应该是废弃了 2021-01-24\r\n            if (location.pathname.split(\"/\")[1].length == 32) {\r\n                let id = _mingyan.decodeMingyan(location.pathname.split(\"/\")[1]);\r\n                let myid = new Number(id);\r\n                $(document).ready(function () {\r\n                    _mingyan.show(myid.toString());\r\n                });\r\n            } else {\r\n                // 否则返回404\r\n                clearInterval(search);\r\n                $(\".app\").load(\"./src/_404.html\");\r\n            };\r\n    };\r\n\r\n\r\n    /**\r\n     * 初始化Headroom.js\r\n     */\r\n    if (Headroom.cutsTheMustard) {\r\n        let myElement = document.getElementById(\"header\");\r\n        let headroom = new Headroom(myElement, {\r\n            \"offset\": 300,\r\n            \"tolerance\": 5\r\n        });\r\n        headroom.init();\r\n    }\r\n\r\n    // 图片懒加载\r\n    lazyload();\r\n    // 不知道为什么有时候会加载失败\r\n    // 那就写个循环吧\r\n    setInterval(lazyload, 1000);\r\n\r\n    /**\r\n     * 初始化fancybox的函数\r\n     */\r\n    function initfancybox() {\r\n        setTimeout(() => {\r\n            $('.fancybox').fancybox({\r\n                buttons: [\r\n                    \"zoom\",\r\n                    \"share\",\r\n                    \"slideShow\",\r\n                    \"fullScreen\",\r\n                    \"download\",\r\n                    \"close\"\r\n                ],\r\n                lang: \"zh-cn\",\r\n                i18n: {\r\n                    \"zh-cn\": {\r\n                        CLOSE: \"关闭\",\r\n                        NEXT: \"下一张\",\r\n                        PREV: \"前一张\",\r\n                        ERROR: \"图片加载失败， <br/> 请稍后再试。\",\r\n                        FULL_SCREEN: \"全屏\",\r\n                        THUMBS: \"略缩图\",\r\n                        DOWNLOAD: \"下载\",\r\n                        SHARE: \"分享\",\r\n                        ZOOM: \"缩放\"\r\n                    }\r\n                }\r\n            });\r\n        }, 500);\r\n    };\r\n    /**\r\n     * 控制台输出彩蛋\r\n     * （知不知道我做这个彩蛋我弄了多久……）\r\n     */\r\n    _mingyan.console = function () {\r\n        let purple = \"font-weight: 900;color: #9b4dca;font-size: 15px\";\r\n        let yellow = \"font-weight: 900;color: #ffb700;font-size: 15px\"\r\n        db(\"欢迎！\")\r\n        console.log(\"\\n\" +\r\n            \"%c诗曰：\\40\\40\\40\\40\\40\\40\\40\\40\\40\\40\\40\\40\\40\\40\\40\\40\\40\\40%c________\\n%c\" +\r\n            \"\\40\\40王颢维尼熊猫，\\40\\40\\40\\40\\40\\40\\40\\40%c|\\40ERSS\\40|\\n%c\" +\r\n            \"\\40\\40老杜金门菜刀，\\40\\40\\40\\40\\40\\40\\40\\40%c|\\40名言\\40|\\n%c\" +\r\n            \"\\40\\40老王还在抠脚。\\40\\40\\40\\40\\40\\40\\40\\40%c|______|\\n%c\" +\r\n            \"\\40\\40三天之内，\\n\" +\r\n            \"\\40\\40抠出一根面条。\\n\" +\r\n            \"\\40\\40\\40\\40\\40\\40————— 天净沙·梗\" +\r\n            \"\\n\", purple, yellow, purple, yellow, purple, yellow, purple, yellow, purple); // 就是这一段颜色做了好久……\r\n        _.get(\"https://api.github.com/repos/xhemj/mingyan/commits\", function (res) {\r\n            db(`[ERSS名言] 版本：${res[0][\"sha\"].slice(0, 7)}`)\r\n        }, true);\r\n    };\r\n    _mingyan.console();\r\n\r\n\r\n    /**\r\n     * 清除hash路由（回到首页）\r\n     */\r\n    _mingyan.goHome = _mingyan.clearHash = function () {\r\n        skipCheckHash = true;\r\n        location.hash = '';\r\n        _mingyan.hideElement();\r\n        skipCheckHash = false;\r\n        _mingyan.show();\r\n    };\r\n\r\n    /**\r\n     * 防止显示界面出问题（测试功能）\r\n     */\r\n    _mingyan.checkPage = function () {\r\n        function isShow(el) {\r\n            return !$(el).is(\":hidden\")\r\n        };\r\n        // 看hash路由有没有记录页面\r\n        function checkHash() {\r\n            let hash = location.hash;\r\n            if (hashName[hash]) {\r\n                // 有的话就按照路由的走\r\n                switch (hash) {\r\n                    case \"#/more\":\r\n                        _mingyan.more();\r\n                        break;\r\n                    case \"#/search\":\r\n                        _mingyan.showAll();\r\n                        break;\r\n                    case \"#/about\":\r\n                        _mingyan.about();\r\n                        break;\r\n                }\r\n            } else {\r\n                // 否则默认显示名言（待测试）\r\n                _mingyan.clearHash();\r\n            };\r\n        };\r\n        // 如果既显示名言又显示搜索界面\r\n        if (isShow($main) && isShow($search)) {\r\n            checkHash()\r\n        };\r\n        // 如果既显示名言又显示更多界面\r\n        if (isShow($main) && isShow($md)) {\r\n            checkHash()\r\n        };\r\n        // ……待添加\r\n    };\r\n    setInterval(() => {\r\n        _mingyan.checkPage();\r\n    }, 1000); // 500ms会出现闪现的Bug，好像调到1000ms就比较刚好……\r\n\r\n    /**\r\n     * 开放函数\r\n     */\r\n    window._mingyan = _mingyan;\r\n    window.isSupportWebp = isSupportWebp;\r\n    window.qs = qs;\r\n    window.randomNumber = randomNumber;\r\n    window.loadJs = loadJs;\r\n    window.db = db;\r\n    window.log = log;\r\n    window._ = _;\r\n    window._$ = _$;\r\n\r\n    /**\r\n     * 耶！！写完啦！！\r\n     * 从2020-04-30 到  现在，\r\n     * 这个网最初只是我们几个人开玩笑着说一说，\r\n     * 谁知道真的能成功呢？\r\n     * 还是要感谢一下的：\r\n     * 感谢英语俞老师给了我们这个灵感，\r\n     * 感谢数学潘老师给我们提供了那么多搞笑的名言，\r\n     * 感谢Oranjezelf和骚骚恪提供的已经失传的数学老王的名言，\r\n     * 感谢BlackToy画的背景图片和其它素材，\r\n     * 感谢2018级8班的所有同学，\r\n     * 感谢Xhemj做了这个网站，\r\n     * 感谢看完了这段文字的你。\r\n     *     —— Xhemj 2021-01-01\r\n     */\r\n\r\n})();"]}